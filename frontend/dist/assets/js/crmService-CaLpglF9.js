import{h as t}from"./index-BqsYehSy.js";function c(t){return Array.isArray(t)?t:t.data||[]}const s={async listAccounts(s){const o=new URLSearchParams;(null==s?void 0:s.search)&&o.set("search",s.search),void 0!==(null==s?void 0:s.is_active)&&o.set("is_active",String(s.is_active));const n=o.toString();return c(await t("/crm/accounts"+(n?`?${n}`:""),{method:"GET"}))},getAccount:async c=>t(`/crm/accounts/${c}`,{method:"GET"}),createAccount:async c=>t("/crm/accounts",{method:"POST",body:JSON.stringify(c)}),updateAccount:async(c,s)=>t(`/crm/accounts/${c}`,{method:"PUT",body:JSON.stringify(s)}),deleteAccount:async c=>t(`/crm/accounts/${c}`,{method:"DELETE"}),async listContacts(s){const o=new URLSearchParams;(null==s?void 0:s.account_id)&&o.set("account_id",s.account_id);const n=o.toString();return c(await t("/crm/contacts"+(n?`?${n}`:""),{method:"GET"}))},createContact:async c=>t("/crm/contacts",{method:"POST",body:JSON.stringify(c)}),updateContact:async(c,s)=>t(`/crm/contacts/${c}`,{method:"PUT",body:JSON.stringify(s)}),async listOpportunities(s){const o=new URLSearchParams;(null==s?void 0:s.stage)&&o.set("stage",s.stage),(null==s?void 0:s.account_id)&&o.set("account_id",s.account_id);const n=o.toString();return c(await t("/crm/opportunities"+(n?`?${n}`:""),{method:"GET"}))},getOpportunity:async c=>t(`/crm/opportunities/${c}`,{method:"GET"}),createOpportunity:async c=>t("/crm/opportunities",{method:"POST",body:JSON.stringify(c)}),updateOpportunity:async(c,s)=>t(`/crm/opportunities/${c}`,{method:"PUT",body:JSON.stringify(s)}),transitionStage:async(c,s)=>t(`/crm/opportunities/${c}/transition`,{method:"POST",body:JSON.stringify(s)}),convertToOrder:async c=>t(`/crm/opportunities/${c}/convert`,{method:"POST"}),async listQuotes(s){const o=new URLSearchParams;(null==s?void 0:s.account_id)&&o.set("account_id",s.account_id),(null==s?void 0:s.opportunity_id)&&o.set("opportunity_id",s.opportunity_id);const n=o.toString();return c(await t("/crm/quotes"+(n?`?${n}`:""),{method:"GET"}))},getQuote:async c=>t(`/crm/quotes/${c}`,{method:"GET"}),createQuote:async c=>t("/crm/quotes",{method:"POST",body:JSON.stringify(c)}),reviseQuote:async c=>t(`/crm/quotes/${c}/revise`,{method:"POST"}),async listTasks(s){const o=new URLSearchParams;(null==s?void 0:s.account_id)&&o.set("account_id",s.account_id),(null==s?void 0:s.opportunity_id)&&o.set("opportunity_id",s.opportunity_id),(null==s?void 0:s.status)&&o.set("status",s.status);const n=o.toString();return c(await t("/crm/tasks"+(n?`?${n}`:""),{method:"GET"}))},createTask:async c=>t("/crm/tasks",{method:"POST",body:JSON.stringify(c)}),updateTask:async(c,s)=>t(`/crm/tasks/${c}`,{method:"PUT",body:JSON.stringify(s)}),async listActivities(s){const o=new URLSearchParams;(null==s?void 0:s.account_id)&&o.set("account_id",s.account_id),(null==s?void 0:s.contact_id)&&o.set("contact_id",s.contact_id),(null==s?void 0:s.opportunity_id)&&o.set("opportunity_id",s.opportunity_id);const n=o.toString();return c(await t("/crm/activities"+(n?`?${n}`:""),{method:"GET"}))},createActivity:async c=>t("/crm/activities",{method:"POST",body:JSON.stringify(c)}),async listNotes(s){const o=new URLSearchParams;o.set("entity_type",s.entity_type),o.set("entity_id",s.entity_id);return c(await t(`/crm/notes?${o.toString()}`,{method:"GET"}))},createNote:async c=>t("/crm/notes",{method:"POST",body:JSON.stringify(c)}),getStats:async()=>t("/crm/stats",{method:"GET"}),async listTickets(s){const o=new URLSearchParams;(null==s?void 0:s.status)&&o.set("status",s.status),(null==s?void 0:s.account_id)&&o.set("account_id",s.account_id);const n=o.toString();return c(await t("/crm/tickets"+(n?`?${n}`:""),{method:"GET"}))},getTicket:async c=>t(`/crm/tickets/${c}`,{method:"GET"}),replyTicket:async(c,s,o=!1)=>t(`/crm/tickets/${c}/reply`,{method:"POST",body:JSON.stringify({message:s,is_internal:o})}),updateTicketStatus:async(c,s,o)=>t(`/crm/tickets/${c}/status`,{method:"PUT",body:JSON.stringify({status:s,assigned_to_id:o})})};export{s as c};
