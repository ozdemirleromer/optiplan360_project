import{e,j as i,d as t,C as s,R as r,T as n,B as o,c as a,f as l}from"./index-BqsYehSy.js";import{r as d,X as c,_ as p,K as u,e as x,d as m,$ as g,a0 as y,a1 as h,a2 as b,a3 as f,a4 as j,m as v,a5 as S,M as k,a6 as C,a7 as z,a8 as T,a9 as A,G as F,q as E,aa as w,S as D}from"./ui-vendor-X7YeR1nJ.js";import{i as L}from"./integrationService-BBjlJOEd.js";import{m as B}from"./mikroService-C7PQFSQ1.js";import"./react-vendor-BTlmOg1k.js";import"./export-jspdf-ClKeqeik.js";import"./state-CRAppeNE.js";import"./export-xlsx-C5xT2hrF.js";const R={ocrEndpoint:"",ocrKey:"",ocrRegion:"westeurope",blobConnectionString:"",blobContainer:"",enabled:!1};function I({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||R),[g,y]=d.useState(!1),[h,b]=d.useState(null),[f,j]=d.useState(!1),v=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),S=d.useCallback(async()=>{y(!0),b(null);try{const i=await e.testAzureOCR();b(i)}catch(i){b({success:!1,message:i instanceof Error?i.message:"Bağlantı testi başarısız"})}finally{y(!1)}},[]),k=d.useCallback(async()=>{j(!0);try{await e.updateAzureConfig({ocr_endpoint:x.ocrEndpoint,ocr_key:x.ocrKey,ocr_region:x.ocrRegion,blob_connection_string:x.blobConnectionString,blob_container:x.blobContainer,enabled:x.enabled}),p(x),l()}catch(i){b({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{j(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:560,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Azure Computer Vision Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Microsoft Azure OCR servisi ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}10`,borderRadius:r.md,border:`1px solid ${s.primary[500]}30`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Servis Durumu"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"Azure OCR servisini aktif/pasif yap"})]}),i.jsx("button",{onClick:()=>v("enabled",!x.enabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.enabled?s.success.DEFAULT:s.muted,color:"white"},children:x.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["OCR Endpoint URL ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"url",value:x.ocrEndpoint,onChange:e=>v("ocrEndpoint",e.target.value),placeholder:"https://<resource>.cognitiveservices.azure.com/",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Subscription Key ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:x.ocrKey,onChange:e=>v("ocrKey",e.target.value),placeholder:"••••••••••••••••••••••••••••••",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Bölge (Region)"}),i.jsxs("select",{value:x.ocrRegion,onChange:e=>v("ocrRegion",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text},children:[i.jsx("option",{value:"westeurope",children:"West Europe"}),i.jsx("option",{value:"northeurope",children:"North Europe"}),i.jsx("option",{value:"eastus",children:"East US"}),i.jsx("option",{value:"westus",children:"West US"}),i.jsx("option",{value:"southeastasia",children:"Southeast Asia"})]})]}),h&&i.jsx("div",{style:{padding:12,borderRadius:r.md,background:h.success?`${s.success.DEFAULT}15`:`${s.error.DEFAULT}15`,border:`1px solid ${h.success?s.success.DEFAULT:s.error.DEFAULT}30`},children:i.jsxs("div",{style:{fontSize:13,fontWeight:500,color:h.success?s.success.DEFAULT:s.error.DEFAULT,display:"flex",alignItems:"center",gap:8},children:[h.success?"[OK]":"[HATA]"," ",h.message]})}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx(o,{variant:"secondary",size:"sm",onClick:S,disabled:g||!x.ocrEndpoint||!x.ocrKey,children:g?"Test Ediliyor...":"Bağlantı Testi"}),i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:k,disabled:f||!x.ocrEndpoint||!x.ocrKey,children:f?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const U={apiKey:"",projectId:"",location:"us",enabled:!1};function $({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||U),[g,y]=d.useState(!1),[h,b]=d.useState(null),[f,j]=d.useState(!1),v=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),S=d.useCallback(async()=>{y(!0),b(null);try{const i=await e.testGoogle();b(i)}catch(i){b({success:!1,message:i instanceof Error?i.message:"Bağlantı testi başarısız"})}finally{y(!1)}},[]),k=d.useCallback(async()=>{j(!0);try{await e.updateGoogleConfig({api_key:x.apiKey,project_id:x.projectId,location:x.location,enabled:x.enabled}),p(x),l()}catch(i){b({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{j(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:560,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Google Vision API Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Google Cloud OCR servisi ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}10`,borderRadius:r.md,border:`1px solid ${s.primary[500]}30`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Servis Durumu"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"Google Vision servisini aktif/pasif yap"})]}),i.jsx("button",{onClick:()=>v("enabled",!x.enabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.enabled?s.success.DEFAULT:s.muted,color:"white"},children:x.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["API Key ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:x.apiKey,onChange:e=>v("apiKey",e.target.value),placeholder:"AIzaSy...",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Project ID ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.projectId,onChange:e=>v("projectId",e.target.value),placeholder:"my-project-123456",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Location"}),i.jsxs("select",{value:x.location,onChange:e=>v("location",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text},children:[i.jsx("option",{value:"us",children:"United States (us)"}),i.jsx("option",{value:"eu",children:"European Union (eu)"}),i.jsx("option",{value:"asia-east1",children:"Taiwan (asia-east1)"}),i.jsx("option",{value:"asia-northeast1",children:"Japan (asia-northeast1)"})]})]}),h&&i.jsx("div",{style:{padding:12,borderRadius:r.md,background:h.success?`${s.success.DEFAULT}15`:`${s.error.DEFAULT}15`,border:`1px solid ${h.success?s.success.DEFAULT:s.error.DEFAULT}30`},children:i.jsxs("div",{style:{fontSize:13,fontWeight:500,color:h.success?s.success.DEFAULT:s.error.DEFAULT,display:"flex",alignItems:"center",gap:8},children:[h.success?"[OK]":"[HATA]"," ",h.message]})}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx(o,{variant:"secondary",size:"sm",onClick:S,disabled:g||!x.apiKey||!x.projectId,children:g?"Test Ediliyor...":"Bağlantı Testi"}),i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:k,disabled:f||!x.apiKey||!x.projectId,children:f?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const W={accessKeyId:"",secretAccessKey:"",region:"us-east-1",enabled:!1};function K({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||W),[g,y]=d.useState(!1),[h,b]=d.useState(null),[f,j]=d.useState(!1),v=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),S=d.useCallback(async()=>{y(!0),b(null);try{const i=await e.testAws();b(i)}catch(i){b({success:!1,message:i instanceof Error?i.message:"Bağlantı testi başarısız"})}finally{y(!1)}},[]),k=d.useCallback(async()=>{j(!0);try{await e.updateAwsConfig({access_key_id:x.accessKeyId,secret_access_key:x.secretAccessKey,region:x.region,enabled:x.enabled}),p(x),l()}catch(i){b({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{j(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:560,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"AWS Textract Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Amazon Web Services OCR servisi ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}10`,borderRadius:r.md,border:`1px solid ${s.primary[500]}30`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Servis Durumu"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"AWS Textract servisini aktif/pasif yap"})]}),i.jsx("button",{onClick:()=>v("enabled",!x.enabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.enabled?s.success.DEFAULT:s.muted,color:"white"},children:x.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Access Key ID ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.accessKeyId,onChange:e=>v("accessKeyId",e.target.value),placeholder:"AKIA...",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Secret Access Key ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:x.secretAccessKey,onChange:e=>v("secretAccessKey",e.target.value),placeholder:"••••••••••••••••••••••••••••••",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Bölge (Region)"}),i.jsxs("select",{value:x.region,onChange:e=>v("region",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text},children:[i.jsx("option",{value:"us-east-1",children:"US East (N. Virginia)"}),i.jsx("option",{value:"us-east-2",children:"US East (Ohio)"}),i.jsx("option",{value:"us-west-1",children:"US West (N. California)"}),i.jsx("option",{value:"us-west-2",children:"US West (Oregon)"}),i.jsx("option",{value:"eu-west-1",children:"EU (Ireland)"}),i.jsx("option",{value:"eu-central-1",children:"EU (Frankfurt)"}),i.jsx("option",{value:"eu-west-2",children:"EU (London)"}),i.jsx("option",{value:"ap-southeast-1",children:"Asia Pacific (Singapore)"}),i.jsx("option",{value:"ap-northeast-1",children:"Asia Pacific (Tokyo)"})]})]}),h&&i.jsx("div",{style:{padding:12,borderRadius:r.md,background:h.success?`${s.success.DEFAULT}15`:`${s.error.DEFAULT}15`,border:`1px solid ${h.success?s.success.DEFAULT:s.error.DEFAULT}30`},children:i.jsxs("div",{style:{fontSize:13,fontWeight:500,color:h.success?s.success.DEFAULT:s.error.DEFAULT,display:"flex",alignItems:"center",gap:8},children:[h.success?"[OK]":"[HATA]"," ",h.message]})}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx(o,{variant:"secondary",size:"sm",onClick:S,disabled:g||!x.accessKeyId||!x.secretAccessKey,children:g?"Test Ediliyor...":"Bağlantı Testi"}),i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:k,disabled:f||!x.accessKeyId||!x.secretAccessKey,children:f?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const P={languages:"tur+eng",tesseractPath:"/usr/bin/tesseract",preprocessingEnabled:!0,confidenceThreshold:70,enabled:!1};function O({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||P),[g,y]=d.useState(!1),[h,b]=d.useState(null),f=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),j=d.useCallback(async()=>{y(!0);try{await e.updateOCRConfig({engine:"tesseract",languages:x.languages.split("+"),preprocessing_enabled:x.preprocessingEnabled,confidence_threshold:x.confidenceThreshold/100}),p(x),l()}catch(i){b({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{y(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:560,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Tesseract OCR Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Yerel OCR motoru ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}10`,borderRadius:r.md,border:`1px solid ${s.primary[500]}30`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Servis Durumu"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"Tesseract OCR'u aktif/pasif yap"})]}),i.jsx("button",{onClick:()=>f("enabled",!x.enabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.enabled?s.success.DEFAULT:s.muted,color:"white"},children:x.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Diller (Language Codes) ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.languages,onChange:e=>f("languages",e.target.value),placeholder:"tur+eng",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:11,color:s.muted},children:"Birden fazla dil için + işareti kullanın (örn: tur+eng)"})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Tesseract Yolu (Opsiyonel)"}),i.jsx("input",{type:"text",value:x.tesseractPath,onChange:e=>f("tesseractPath",e.target.value),placeholder:"/usr/bin/tesseract",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Güven Eşiği (%)"}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("input",{type:"range",min:"50",max:"95",value:x.confidenceThreshold,onChange:e=>f("confidenceThreshold",parseInt(e.target.value)),style:{flex:1}}),i.jsxs("span",{style:{fontSize:14,fontWeight:500,color:s.text,minWidth:40},children:[x.confidenceThreshold,"%"]})]})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}05`,borderRadius:r.md,border:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Ön İşleme (Preprocessing)"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"Görüntü iyileştirme adımlarını uygula"})]}),i.jsx("button",{onClick:()=>f("preprocessingEnabled",!x.preprocessingEnabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.preprocessingEnabled?s.info.DEFAULT:s.muted,color:"white"},children:x.preprocessingEnabled?"Aktif":"Pasif"})]}),h&&i.jsx("div",{style:{padding:12,borderRadius:r.md,background:h.success?`${s.success.DEFAULT}15`:`${s.error.DEFAULT}15`,border:`1px solid ${h.success?s.success.DEFAULT:s.error.DEFAULT}30`},children:i.jsxs("div",{style:{fontSize:13,fontWeight:500,color:h.success?s.success.DEFAULT:s.error.DEFAULT,display:"flex",alignItems:"center",gap:8},children:[h.success?"[OK]":"[HATA]"," ",h.message]})}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:j,disabled:g||!x.languages,children:g?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const M={botToken:"",allowedChatId:"",webhookSecret:"",enabled:!1};function H({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||M),[g,y]=d.useState(!1),[h,b]=d.useState(null),[f,j]=d.useState(!1),v=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),S=d.useCallback(async()=>{y(!0),b(null);try{const i=await e.testTelegram();b(i)}catch(i){b({success:!1,message:i instanceof Error?i.message:"Bağlantı testi başarısız"})}finally{y(!1)}},[]),k=d.useCallback(async()=>{j(!0);try{await e.updateTelegramConfig({bot_token:x.botToken,allowed_chat_id:x.allowedChatId,webhook_secret:x.webhookSecret}),p(x),l()}catch(i){b({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{j(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:560,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Telegram OCR Bot Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Telegram bot entegrasyonu ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}10`,borderRadius:r.md,border:`1px solid ${s.primary[500]}30`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Bot Durumu"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"Telegram botunu aktif/pasif yap"})]}),i.jsx("button",{onClick:()=>v("enabled",!x.enabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.enabled?s.success.DEFAULT:s.muted,color:"white"},children:x.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Bot Token ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:x.botToken,onChange:e=>v("botToken",e.target.value),placeholder:"123456789:ABCdefGHIjklMNOpqrsTUVwxyz",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:11,color:s.muted},children:"BotFather'dan aldığınız bot token'ı"})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"İzin Verilen Chat ID"}),i.jsx("input",{type:"text",value:x.allowedChatId,onChange:e=>v("allowedChatId",e.target.value),placeholder:"123456789",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:11,color:s.muted},children:"Sadece bu chat ID'den gelen mesajlar işlenecek (boş bırakılırsa herkes)"})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Webhook Secret (Opsiyonel)"}),i.jsx("input",{type:"password",value:x.webhookSecret,onChange:e=>v("webhookSecret",e.target.value),placeholder:"gizli-anahtar",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),h&&i.jsx("div",{style:{padding:12,borderRadius:r.md,background:h.success?`${s.success.DEFAULT}15`:`${s.error.DEFAULT}15`,border:`1px solid ${h.success?s.success.DEFAULT:s.error.DEFAULT}30`},children:i.jsxs("div",{style:{fontSize:13,fontWeight:500,color:h.success?s.success.DEFAULT:s.error.DEFAULT,display:"flex",alignItems:"center",gap:8},children:[h.success?"[OK]":"[HATA]"," ",h.message]})}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx(o,{variant:"secondary",size:"sm",onClick:S,disabled:g||!x.botToken,children:g?"Test Ediliyor...":"Bot Testi"}),i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:k,disabled:f||!x.botToken,children:f?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const _={imapHost:"",imapPort:993,imapUser:"",imapPass:"",imapMailbox:"INBOX",useSsl:!0,enabled:!1};function N({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||_),[g,y]=d.useState(!1),[h,b]=d.useState(null),[f,j]=d.useState(!1),v=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),S=d.useCallback(async()=>{y(!0),b(null);try{const i=await e.testEmail();b(i)}catch(i){b({success:!1,message:i instanceof Error?i.message:"Bağlantı testi başarısız"})}finally{y(!1)}},[]),k=d.useCallback(async()=>{j(!0);try{await e.updateEmailConfig({imap_host:x.imapHost,imap_port:x.imapPort,imap_user:x.imapUser,imap_pass:x.imapPass,imap_mailbox:x.imapMailbox}),p(x),l()}catch(i){b({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{j(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:560,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Email OCR Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"IMAP email entegrasyonu ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:12,background:`${s.primary[500]}10`,borderRadius:r.md,border:`1px solid ${s.primary[500]}30`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Email Entegrasyonu"}),i.jsx("div",{style:{fontSize:12,color:s.muted},children:"Email OCR'u aktif/pasif yap"})]}),i.jsx("button",{onClick:()=>v("enabled",!x.enabled),style:{padding:"6px 12px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:x.enabled?s.success.DEFAULT:s.muted,color:"white"},children:x.enabled?"Aktif":"Pasif"})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["IMAP Sunucu ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.imapHost,onChange:e=>v("imapHost",e.target.value),placeholder:"imap.gmail.com",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Port"}),i.jsx("input",{type:"number",value:x.imapPort,onChange:e=>v("imapPort",parseInt(e.target.value)||993),placeholder:"993",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"SSL/TLS"}),i.jsx("button",{onClick:()=>v("useSsl",!x.useSsl),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:x.useSsl?`${s.success.DEFAULT}20`:"transparent",color:x.useSsl?s.success.DEFAULT:s.text,cursor:"pointer",fontWeight:500},children:x.useSsl?"[Aktif] SSL Aktif":"SSL Pasif"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Email Adresi ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"email",value:x.imapUser,onChange:e=>v("imapUser",e.target.value),placeholder:"ornek@email.com",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Şifre / Uygulama Şifresi ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:x.imapPass,onChange:e=>v("imapPass",e.target.value),placeholder:"••••••••••••",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:11,color:s.muted},children:"Gmail için uygulama şifresi kullanın"})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Mailbox"}),i.jsx("input",{type:"text",value:x.imapMailbox,onChange:e=>v("imapMailbox",e.target.value),placeholder:"INBOX",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text}})]}),h&&i.jsx("div",{style:{padding:12,borderRadius:r.md,background:h.success?`${s.success.DEFAULT}15`:`${s.error.DEFAULT}15`,border:`1px solid ${h.success?s.success.DEFAULT:s.error.DEFAULT}30`},children:i.jsxs("div",{style:{fontSize:13,fontWeight:500,color:h.success?s.success.DEFAULT:s.error.DEFAULT,display:"flex",alignItems:"center",gap:8},children:[h.success?"[OK]":"[HATA]"," ",h.message]})}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx(o,{variant:"secondary",size:"sm",onClick:S,disabled:g||!x.imapHost||!x.imapUser||!x.imapPass,children:g?"Test Ediliyor...":"Bağlantı Testi"}),i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:k,disabled:f||!x.imapHost||!x.imapUser||!x.imapPass,children:f?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const G={configured:!1,host:"",port:1433,instance:"",database:"",username:"",password:"",timeoutSeconds:10,encrypt:!0,trustServerCertificate:!1};const Y={width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"transparent",color:s.text,boxSizing:"border-box"},X={display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},V={fontSize:11,color:s.error.DEFAULT,marginTop:4};function Q({isOpen:n,onClose:a,onSave:l}){const[h,b]=d.useState(G),[f,j]=d.useState(!0),[v,S]=d.useState(!1),[k,C]=d.useState(!1),[z,T]=d.useState(null),[A,F]=d.useState(new Set),[E,w]=d.useState("connection");d.useEffect(()=>{if(!n)return;let i=!1;return async function(){j(!0);try{const t=await e.getMikroConfig();if(i)return;t&&t.configured&&b({...G,...t,password:"••••••••"===t.password?"":t.password||""})}catch{}finally{i||j(!1)}}(),()=>{i=!0}},[n]),d.useEffect(()=>{if(!n)return;const e=e=>{"Escape"===e.key&&a()};return window.addEventListener("keydown",e),()=>window.removeEventListener("keydown",e)},[n,a]);const D=d.useCallback((e,i)=>{b(t=>({...t,[e]:i})),F(i=>new Set(i).add(e)),T(null)},[]),L=function(e){const i={};return e.host.trim()||(i.host="SQL Server adresi zorunludur"),e.database.trim()||(i.database="Veritabanı adı zorunludur"),e.username.trim()||(i.username="Kullanıcı adı zorunludur"),e.password&&(e.password.trim()||e.configured)||(i.password="Şifre zorunludur"),(e.port<1||e.port>65535)&&(i.port="Port 1-65535 arasında olmalıdır"),(e.timeoutSeconds<1||e.timeoutSeconds>120)&&(i.timeoutSeconds="Zaman aşımı 1-120 saniye arasında olmalıdır"),i}(h),B=Object.keys(L).length>0,R=h.configured&&!h.password,I=!B||R&&1===Object.keys(L).length&&L.password,U=d.useCallback(async()=>{S(!0),T(null);try{const i=await e.testMikroConfig(h);T({success:i.success??!0,message:i.message??"Bağlantı başarılı"})}catch(i){T({success:!1,message:i instanceof Error?i.message:"Bağlantı testi başarısız"})}finally{S(!1)}},[h]),$=d.useCallback(async()=>{C(!0),T(null);try{const i=await e.saveMikroConfig(h);b(e=>({...e,configured:!0})),T({success:!0,message:"Yapılandırma başarıyla kaydedildi"}),l(i),setTimeout(()=>a(),1200)}catch(i){T({success:!1,message:i instanceof Error?i.message:"Kaydetme başarısız"})}finally{C(!1)}},[h,l,a]);if(!n)return null;const W=[{id:"connection",label:"Bağlantı",icon:i.jsx(g,{size:14,"aria-hidden":!0})},{id:"security",label:"Güvenlik",icon:i.jsx(y,{size:14,"aria-hidden":!0})},{id:"advanced",label:"Gelişmiş",icon:i.jsx(p,{size:14,"aria-hidden":!0})}];return i.jsxs("div",{role:"dialog","aria-modal":"true","aria-label":"Mikro ERP Yapılandırması",style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:a,children:[i.jsxs(t,{style:{width:"100%",maxWidth:620,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12},children:[i.jsx("div",{style:{width:40,height:40,borderRadius:r.md,background:`${s.primary[500]}15`,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(p,{size:20,color:s.primary[500],"aria-hidden":!0})}),i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Mikro ERP Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"SQL Server bağlantı ayarları ve güvenlik seçenekleri"})]})]}),i.jsx("button",{onClick:a,"aria-label":"Kapat",style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted,minWidth:44,minHeight:44,display:"flex",alignItems:"center",justifyContent:"center"},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",gap:8,marginBottom:20,padding:"10px 14px",borderRadius:r.md,background:h.configured?`${s.success.DEFAULT}10`:`${s.warning.DEFAULT}10`,border:`1px solid ${h.configured?s.success.DEFAULT:s.warning.DEFAULT}25`},children:[i.jsx("div",{style:{width:8,height:8,borderRadius:"50%",background:f?s.muted:h.configured?s.success.DEFAULT:s.warning.DEFAULT}}),i.jsx("span",{style:{fontSize:13,fontWeight:500,color:s.text},children:f?"Yapılandırma yükleniyor...":h.configured?"Mikro ERP bağlantısı yapılandırılmış":"Mikro ERP bağlantısı henüz yapılandırılmamış"})]}),f?i.jsxs("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",padding:40,gap:8,color:s.muted},children:[i.jsx(u,{size:20,style:{animation:"spin 1s linear infinite"},"aria-hidden":!0}),i.jsx("span",{style:{fontSize:14},children:"Yapılandırma yükleniyor..."})]}):i.jsxs(i.Fragment,{children:[i.jsx("div",{style:{display:"flex",gap:4,marginBottom:20,padding:4,background:`${s.muted}10`,borderRadius:r.md},children:W.map(e=>i.jsxs("button",{onClick:()=>w(e.id),style:{flex:1,padding:"8px 12px",borderRadius:r.sm,border:"none",background:E===e.id?s.surface:"transparent",color:E===e.id?s.text:s.muted,cursor:"pointer",fontSize:13,fontWeight:500,display:"flex",alignItems:"center",justifyContent:"center",gap:6,boxShadow:E===e.id?"0 1px 3px rgba(0,0,0,0.08)":"none",transition:"all 0.15s",minHeight:44},children:[e.icon," ",e.label]},e.id))}),i.jsxs("div",{style:{display:"grid",gap:16},children:["connection"===E&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mikro-host",style:X,children:["SQL Server Adresi (IP / Hostname) ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{id:"mikro-host",value:h.host,onChange:e=>D("host",e.target.value),placeholder:"192.168.1.100 veya mikro-server.local",style:{...Y,borderColor:A.has("host")&&L.host?s.error.DEFAULT:s.border}}),A.has("host")&&L.host&&i.jsx("div",{style:V,children:L.host})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"mikro-port",style:X,children:"Port"}),i.jsx("input",{id:"mikro-port",type:"number",value:h.port,onChange:e=>D("port",Number(e.target.value)),style:{...Y,borderColor:A.has("port")&&L.port?s.error.DEFAULT:s.border}}),A.has("port")&&L.port&&i.jsx("div",{style:V,children:L.port})]}),i.jsxs("div",{children:[i.jsx("label",{htmlFor:"mikro-instance",style:X,children:"Sunucu Adı (Instance)"}),i.jsx("input",{id:"mikro-instance",value:h.instance,onChange:e=>D("instance",e.target.value),placeholder:"SQLEXPRESS",style:Y}),i.jsx("div",{style:{fontSize:11,color:s.muted,marginTop:4},children:"Varsayılan instance ise boş bırakın"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mikro-database",style:X,children:["Veritabanı Adı ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{id:"mikro-database",value:h.database,onChange:e=>D("database",e.target.value),placeholder:"MikroDB_V16",style:{...Y,borderColor:A.has("database")&&L.database?s.error.DEFAULT:s.border}}),A.has("database")&&L.database&&i.jsx("div",{style:V,children:L.database})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mikro-username",style:X,children:["Kullanıcı Adı ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{id:"mikro-username",value:h.username,onChange:e=>D("username",e.target.value),placeholder:"sa",autoComplete:"username",style:{...Y,borderColor:A.has("username")&&L.username?s.error.DEFAULT:s.border}}),A.has("username")&&L.username&&i.jsx("div",{style:V,children:L.username})]}),i.jsxs("div",{children:[i.jsxs("label",{htmlFor:"mikro-password",style:X,children:["Şifre ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{id:"mikro-password",type:"password",value:h.password,onChange:e=>D("password",e.target.value),placeholder:h.configured?"Değiştirmek için yeni şifre girin":"••••••••",autoComplete:"current-password",style:{...Y,borderColor:A.has("password")&&L.password&&!R?s.error.DEFAULT:s.border}}),h.configured&&i.jsx("div",{style:{fontSize:11,color:s.muted,marginTop:4},children:"Boş bırakırsanız mevcut şifre korunur"})]})]})]}),"security"===E&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 16px",borderRadius:r.md,border:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Bağlantı Şifreleme (TLS/SSL)"}),i.jsx("div",{style:{fontSize:12,color:s.muted,marginTop:2},children:"SQL Server bağlantısını şifreler. Production ortamında aktif olması tavsiye edilir."})]}),i.jsx("button",{onClick:()=>D("encrypt",!h.encrypt),style:{padding:"6px 14px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:h.encrypt?s.success.DEFAULT:s.gray[400],color:"white",minWidth:60,minHeight:44},children:h.encrypt?"Aktif":"Pasif"})]}),i.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"14px 16px",borderRadius:r.md,border:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:14,fontWeight:500,color:s.text},children:"Sunucu Sertifikasına Güven"}),i.jsx("div",{style:{fontSize:12,color:s.muted,marginTop:2},children:"Self-signed sertifika kullanan sunucularda aktif edin. Production ortamında pasif tutulması tavsiye edilir."})]}),i.jsx("button",{onClick:()=>D("trustServerCertificate",!h.trustServerCertificate),style:{padding:"6px 14px",borderRadius:r.md,border:"none",cursor:"pointer",fontSize:13,fontWeight:500,background:h.trustServerCertificate?s.warning.DEFAULT:s.gray[400],color:"white",minWidth:60,minHeight:44},children:h.trustServerCertificate?"Aktif":"Pasif"})]}),i.jsxs("div",{style:{padding:"12px 14px",borderRadius:r.md,background:`${s.info.DEFAULT}08`,border:`1px solid ${s.info.DEFAULT}20`,fontSize:12,color:s.muted,lineHeight:1.6},children:[i.jsx("strong",{style:{color:s.text},children:"Güvenlik Notu:"}),' Bağlantı şifreleme aktifken ve sunucu sertifikası güvenilir olarak işaretlenmemişken, sunucunun geçerli bir SSL sertifikasına sahip olması gerekir. Local ağda self-signed sertifika kullanılıyorsa "Sunucu Sertifikasına Güven" seçeneğini aktif edin.']})]}),"advanced"===E&&i.jsxs(i.Fragment,{children:[i.jsxs("div",{children:[i.jsx("label",{htmlFor:"mikro-timeout",style:X,children:"Bağlantı Zaman Aşımı (saniye)"}),i.jsx("input",{id:"mikro-timeout",type:"number",min:1,max:120,value:h.timeoutSeconds,onChange:e=>D("timeoutSeconds",Number(e.target.value)),style:{...Y,maxWidth:160,borderColor:A.has("timeoutSeconds")&&L.timeoutSeconds?s.error.DEFAULT:s.border}}),A.has("timeoutSeconds")&&L.timeoutSeconds&&i.jsx("div",{style:V,children:L.timeoutSeconds}),i.jsx("div",{style:{fontSize:11,color:s.muted,marginTop:4},children:"Yavaş ağlarda değeri artırın. Önerilen: 10-30 saniye."})]}),i.jsxs("div",{style:{padding:"14px 16px",borderRadius:r.md,background:`${s.muted}08`,border:`1px solid ${s.border}`},children:[i.jsx("div",{style:{fontSize:13,fontWeight:500,color:s.text,marginBottom:8},children:"Bağlantı Bilgileri"}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"auto 1fr",gap:"6px 16px",fontSize:12},children:[i.jsx("span",{style:{color:s.muted},children:"ODBC Driver:"}),i.jsx("span",{style:{color:s.text},children:"ODBC Driver 17 for SQL Server"}),i.jsx("span",{style:{color:s.muted},children:"Bağlantı Modu:"}),i.jsx("span",{style:{color:s.text},children:"Read-Only (ApplicationIntent=ReadOnly)"}),i.jsx("span",{style:{color:s.muted},children:"Oluşturulan Server:"}),i.jsx("span",{style:{color:s.text,fontFamily:"monospace"},children:h.instance?`${h.host||"..."}\\${h.instance}`:1433!==h.port?`${h.host||"..."},${h.port}`:h.host||"..."})]})]}),i.jsxs("div",{style:{padding:"12px 14px",borderRadius:r.md,background:`${s.info.DEFAULT}08`,border:`1px solid ${s.info.DEFAULT}20`,fontSize:12,color:s.muted,lineHeight:1.6},children:[i.jsx("strong",{style:{color:s.text},children:"Read-Only Bağlantı:"})," OptiPlan360 Mikro veritabanına yalnızca okuma amaçlı bağlanır. Stok sorgusu ve malzeme önerisi için TBLSTSABIT/STOKLAR tablolarına erişim gerekir. SQL Server kullanıcısına sadece SELECT yetkisi verilmesi tavsiye edilir."]})]}),z&&i.jsxs("div",{style:{padding:"12px 14px",borderRadius:r.md,background:z.success?`${s.success.DEFAULT}10`:`${s.error.DEFAULT}10`,border:`1px solid ${z.success?s.success.DEFAULT:s.error.DEFAULT}25`,display:"flex",alignItems:"center",gap:10},children:[z.success?i.jsx(x,{size:18,color:s.success.DEFAULT,"aria-hidden":!0}):i.jsx(m,{size:18,color:s.error.DEFAULT,"aria-hidden":!0}),i.jsxs("div",{children:[i.jsx("div",{style:{fontSize:13,fontWeight:600,color:z.success?s.success.DEFAULT:s.error.DEFAULT},children:z.success?"Bağlantı Başarılı":"Bağlantı Başarısız"}),i.jsx("div",{style:{fontSize:12,color:s.muted,marginTop:2},children:z.message})]})]}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8,paddingTop:16,borderTop:`1px solid ${s.border}`},children:[i.jsx(o,{variant:"secondary",size:"sm",onClick:U,disabled:v||!I,title:"Bağlantı Testi",children:v?i.jsxs(i.Fragment,{children:[i.jsx(u,{size:14,style:{animation:"spin 1s linear infinite"},"aria-hidden":!0})," ","Test Ediliyor..."]}):"Bağlantı Testi"}),i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:a,title:"İptal",children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:$,disabled:k||!I,title:"Kaydet",children:k?i.jsxs(i.Fragment,{children:[i.jsx(u,{size:14,style:{animation:"spin 1s linear infinite"},"aria-hidden":!0})," ","Kaydediliyor..."]}):"Yapılandırmayı Kaydet"})]})]})]})]}),i.jsx("style",{children:"@keyframes spin { from { transform: rotate(0deg); } to { transform: rotate(360deg); } }"})]})}const Z={provider:"ILETI_MERKEZI",apiKey:"",secretKey:"",senderName:"OPTIPLAN"};function J({isOpen:e,onClose:a,onSave:l,initialConfig:p}){const[u,x]=d.useState(p||Z),[m,g]=d.useState(!1),[y,h]=d.useState(null),b=d.useCallback((e,i)=>{x(t=>({...t,[e]:i})),h(null)},[]),f=d.useCallback(async()=>{g(!0),h(null);try{await B.updateSettings({integration_type:"SMS",settings:{provider:u.provider,api_key:u.apiKey,secret_key:u.secretKey,sender_name:u.senderName},is_active:!0}),l(u),a()}catch(e){h(e instanceof Error?e.message:"Kaydetme başarısız")}finally{g(!1)}},[u,l,a]);return e?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:a,children:i.jsxs(t,{style:{width:"100%",maxWidth:480,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"SMS Gateway Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Müşteri bildirimleri için SMS entegrasyonu"})]}),i.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Sağlayıcı (Provider)"}),i.jsxs("select",{value:u.provider,onChange:e=>b("provider",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"white",color:s.text,cursor:"pointer"},children:[i.jsx("option",{value:"ILETI_MERKEZI",children:"İleti Merkezi"}),i.jsx("option",{value:"NETGSM",children:"NetGSM"}),i.jsx("option",{value:"TWILIO",children:"Twilio"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["API Anahtarı ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:u.apiKey,onChange:e=>b("apiKey",e.target.value),placeholder:"API Key",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Gizli Anahtar (Secret) ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:u.secretKey,onChange:e=>b("secretKey",e.target.value),placeholder:"••••••••••••",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Gönderici Adı (Başlık)"}),i.jsx("input",{type:"text",value:u.senderName,onChange:e=>b("senderName",e.target.value),placeholder:"OPTIPLAN",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),y&&i.jsxs("div",{style:{padding:12,borderRadius:r.md,background:`${s.error.DEFAULT}15`,border:`1px solid ${s.error.DEFAULT}30`,fontSize:13,fontWeight:500,color:s.error.DEFAULT},children:["[HATA] ",y]}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:a,disabled:m,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:f,disabled:m||!u.apiKey||!u.secretKey,children:m?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const q={host:"",port:587,username:"",password:"",useTls:!0,senderName:"OptiPlan"};function ee({isOpen:e,onClose:a,onSave:l,initialConfig:p}){const[u,x]=d.useState(p||q),[m,g]=d.useState(!1),[y,h]=d.useState(null),b=d.useCallback((e,i)=>{x(t=>({...t,[e]:i})),h(null)},[]),f=d.useCallback(async()=>{g(!0),h(null);try{await B.updateSettings({integration_type:"SMTP",settings:{host:u.host,port:u.port,username:u.username,password:u.password,use_tls:u.useTls,sender_name:u.senderName},is_active:!0}),l(u),a()}catch(e){h(e instanceof Error?e.message:"Kaydetme başarısız")}finally{g(!1)}},[u,l,a]);return e?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:a,children:i.jsxs(t,{style:{width:"100%",maxWidth:480,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"SMTP Sunucu Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Sistem e-postalarının (şifre sıfırlama vb.) gönderim ayarları"})]}),i.jsx("button",{onClick:a,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["SMTP Host ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:u.host,onChange:e=>b("host",e.target.value),placeholder:"smtp.gmail.com",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Port ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"number",value:u.port,onChange:e=>b("port",parseInt(e.target.value)||587),placeholder:"587",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Güvenlik"}),i.jsx("button",{onClick:()=>b("useTls",!u.useTls),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:u.useTls?`${s.success.DEFAULT}20`:"transparent",color:u.useTls?s.success.DEFAULT:s.text,cursor:"pointer",fontWeight:500},children:u.useTls?"[Aktif] TLS/SSL":"Opsiyonel"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Kullanıcı Adı ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:u.username,onChange:e=>b("username",e.target.value),placeholder:"ornek@email.com",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Şifre ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:u.password,onChange:e=>b("password",e.target.value),placeholder:"••••••••••••",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Gönderici Adı"}),i.jsx("input",{type:"text",value:u.senderName,onChange:e=>b("senderName",e.target.value),placeholder:"OptiPlan Sistem",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),y&&i.jsxs("div",{style:{padding:12,borderRadius:r.md,background:`${s.error.DEFAULT}15`,border:`1px solid ${s.error.DEFAULT}30`,fontSize:13,fontWeight:500,color:s.error.DEFAULT},children:["[HATA] ",y]}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:a,disabled:m,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:f,disabled:m||!u.host||!u.username||!u.password,children:m?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const ie={phoneNumberId:"",businessAccountId:"",accessToken:"",apiVersion:"v17.0"};function te({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||ie),[g,y]=d.useState(!1),[h,b]=d.useState(null),f=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),j=d.useCallback(async()=>{y(!0),b(null);try{await e.updateWhatsAppConfig({phone_number_id:x.phoneNumberId,business_account_id:x.businessAccountId,access_token:x.accessToken,api_version:x.apiVersion}),p(x),l()}catch(i){b(i instanceof Error?i.message:"Kaydetme başarısız")}finally{y(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:480,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"WhatsApp Business API"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Facebook (Meta) Cloud API yapılandırması"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Telefon Numarası ID ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.phoneNumberId,onChange:e=>f("phoneNumberId",e.target.value),placeholder:"Örn: 105938XXXX",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["İşletme Hesabı ID ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.businessAccountId,onChange:e=>f("businessAccountId",e.target.value),placeholder:"Örn: 104998XXXX",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Geçici/Kalıcı Erişim Tokeni ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("textarea",{value:x.accessToken,onChange:e=>f("accessToken",e.target.value),placeholder:"EAAGm0...",rows:3,style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,resize:"vertical"}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"API Versiyonu"}),i.jsx("input",{type:"text",value:x.apiVersion,onChange:e=>f("apiVersion",e.target.value),placeholder:"v17.0",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),h&&i.jsxs("div",{style:{padding:12,borderRadius:r.md,background:`${s.error.DEFAULT}15`,border:`1px solid ${s.error.DEFAULT}30`,fontSize:13,fontWeight:500,color:s.error.DEFAULT},children:["[HATA] ",h]}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,disabled:g,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:j,disabled:g||!x.phoneNumberId||!x.businessAccountId||!x.accessToken,children:g?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}const se={provider:"openai",apiKey:"",model:"gpt-4o",temperature:.7,maxTokens:1e3};function re({isOpen:a,onClose:l,onSave:p,initialConfig:u}){const[x,m]=d.useState(u||se),[g,y]=d.useState(!1),[h,b]=d.useState(null),f=d.useCallback((e,i)=>{m(t=>({...t,[e]:i})),b(null)},[]),j=d.useCallback(async()=>{y(!0),b(null);try{await e.updateAIConfig({provider:x.provider,api_key:x.apiKey,model:x.model,temperature:x.temperature,max_tokens:x.maxTokens,enabled:!0}),p(x),l()}catch(i){b(i instanceof Error?i.message:"Kaydetme başarısız")}finally{y(!1)}},[x,p,l]);return a?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,background:"rgba(0,0,0,0.6)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:24},onClick:l,children:i.jsxs(t,{style:{width:"100%",maxWidth:480,maxHeight:"90vh",overflow:"auto"},onClick:e=>e.stopPropagation(),children:[i.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:20,paddingBottom:16,borderBottom:`1px solid ${s.border}`},children:[i.jsxs("div",{children:[i.jsx("h2",{style:{margin:0,fontSize:18,fontWeight:600,color:s.text},children:"Yapay Zeka (AI) Yapılandırması"}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted},children:"Analiz ve Darboğaz Motoru AI Ayarları"})]}),i.jsx("button",{onClick:l,style:{background:"none",border:"none",cursor:"pointer",padding:8,borderRadius:r.md,color:s.muted},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{display:"grid",gap:16},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Sağlayıcı"}),i.jsxs("select",{value:x.provider,onChange:e=>f("provider",e.target.value),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base,background:"white",color:s.text,cursor:"pointer"},children:[i.jsx("option",{value:"openai",children:"OpenAI (ChatGPT)"}),i.jsx("option",{value:"anthropic",children:"Anthropic (Claude)"}),i.jsx("option",{value:"custom",children:"Özel API"})]})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["Varsayılan Model ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"text",value:x.model,onChange:e=>f("model",e.target.value),placeholder:"gpt-4o veya claude-3-opus",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsxs("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:["API Anahtarı ",i.jsx("span",{style:{color:s.error.DEFAULT},children:"*"})]}),i.jsx("input",{type:"password",value:x.apiKey,onChange:e=>f("apiKey",e.target.value),placeholder:"sk-...",style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Temperature (0 - 2)"}),i.jsx("input",{type:"number",step:"0.1",min:"0",max:"2",value:x.temperature,onChange:e=>f("temperature",parseFloat(e.target.value)||0),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]}),i.jsxs("div",{children:[i.jsx("label",{style:{display:"block",fontSize:13,fontWeight:500,color:s.text,marginBottom:6},children:"Max Token"}),i.jsx("input",{type:"number",min:"100",step:"100",value:x.maxTokens,onChange:e=>f("maxTokens",parseInt(e.target.value)||1e3),style:{width:"100%",padding:"10px 12px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,fontFamily:n.fontFamily.base}})]})]}),h&&i.jsxs("div",{style:{padding:12,borderRadius:r.md,background:`${s.error.DEFAULT}15`,border:`1px solid ${s.error.DEFAULT}30`,fontSize:13,fontWeight:500,color:s.error.DEFAULT},children:["[HATA] ",h]}),i.jsxs("div",{style:{display:"flex",gap:12,marginTop:8},children:[i.jsx("div",{style:{flex:1}}),i.jsx(o,{variant:"ghost",size:"sm",onClick:l,disabled:g,children:"İptal"}),i.jsx(o,{variant:"primary",size:"sm",onClick:j,disabled:g||!x.apiKey||!x.model,children:g?"Kaydediliyor...":"Kaydet"})]})]})]})}):null}function ne({isOpen:e,onClose:n,onSave:a,initialConfig:l}){const[p,u]=d.useState((null==l?void 0:l.exportDir)||"C:\\Biesse\\OptiPlanning\\XmlJob"),[x,m]=d.useState((null==l?void 0:l.exePath)||"C:\\Biesse\\OptiPlanning\\System\\OptiPlan.exe"),[g,y]=d.useState((null==l?void 0:l.formatType)||"EXCEL"),[v,S]=d.useState((null==l?void 0:l.autoTrigger)??!0),[k,C]=d.useState((null==l?void 0:l.sawThickness)??3.2),[z,T]=d.useState((null==l?void 0:l.trimTop)??10),[A,F]=d.useState((null==l?void 0:l.trimBottom)??10),[E,w]=d.useState((null==l?void 0:l.trimLeft)??10),[D,L]=d.useState((null==l?void 0:l.trimRight)??10),[B,R]=d.useState(!1),[I,U]=d.useState((null==l?void 0:l.optimizationMode)||"Standard"),[$,W]=d.useState((null==l?void 0:l.grainPriority)??1),[K,P]=d.useState((null==l?void 0:l.allowRotation)??!0),[O,M]=d.useState((null==l?void 0:l.spacingMm)??0);return d.useEffect(()=>{e&&l&&(u(l.exportDir||"C:\\Biesse\\OptiPlanning\\XmlJob"),m(l.exePath||"C:\\Biesse\\OptiPlanning\\System\\OptiPlan.exe"),y(l.formatType||"EXCEL"),S(l.autoTrigger??!0),C(l.sawThickness??3.2),T(l.trimTop??10),F(l.trimBottom??10),w(l.trimLeft??10),L(l.trimRight??10),U(l.optimizationMode||"Standard"),W(l.grainPriority??1),P(l.allowRotation??!0),M(l.spacingMm??0))},[e,l]),e?i.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0,0,0,0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3},children:i.jsxs(t,{style:{width:"100%",maxWidth:600,padding:0,overflow:"hidden",maxHeight:"90vh",display:"flex",flexDirection:"column"},children:[i.jsxs("div",{style:{padding:"20px 24px",borderBottom:`1px solid ${s.border}`,display:"flex",justifyContent:"space-between",alignItems:"center",flexShrink:0},children:[i.jsx("h2",{style:{margin:0,fontSize:18,color:s.text},children:"OptiPlanning Yapılandırması"}),i.jsx(o,{variant:"ghost",size:"sm",onClick:n,style:{padding:4},children:i.jsx(c,{size:20})})]}),i.jsxs("div",{style:{padding:24,display:"flex",flexDirection:"column",gap:16,overflowY:"auto"},children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,fontWeight:500,color:s.text},children:"Aktarım Dizini (Export Dir)"}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx(h,{size:16,style:{position:"absolute",left:12,top:10,color:s.muted}}),i.jsx("input",{type:"text",value:p,onChange:e=>u(e.target.value),style:{width:"100%",padding:"8px 12px 8px 36px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,outline:"none"},placeholder:"Örn. C:\\Biesse\\OptiPlanning\\XmlJob"})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,fontWeight:500,color:s.text},children:"OptiPlan EXE Yolu"}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx(b,{size:16,style:{position:"absolute",left:12,top:10,color:s.muted}}),i.jsx("input",{type:"text",value:x,onChange:e=>m(e.target.value),style:{width:"100%",padding:"8px 12px 8px 36px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,outline:"none"},placeholder:"Örn. C:\\Biesse\\OptiPlanning\\System\\OptiPlan.exe"})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,fontWeight:500,color:s.text},children:"Dışa Aktarım Formatı"}),i.jsxs("div",{style:{position:"relative"},children:[i.jsx(f,{size:16,style:{position:"absolute",left:12,top:10,color:s.muted}}),i.jsxs("select",{value:g,onChange:e=>y(e.target.value),style:{width:"100%",padding:"8px 12px 8px 36px",borderRadius:r.md,border:`1px solid ${s.border}`,fontSize:14,backgroundColor:"white",outline:"none"},children:[i.jsx("option",{value:"EXCEL",children:"EXCEL (.xlsx)"}),i.jsx("option",{value:"OSI",children:"OSI (.osi)"}),i.jsx("option",{value:"XML",children:"XML (.xml)"})]})]})]}),i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer",marginTop:8},children:[i.jsx("input",{type:"checkbox",checked:v,onChange:e=>S(e.target.checked),style:{width:16,height:16,accentColor:s.primary.DEFAULT}}),i.jsx("span",{style:{fontSize:14,color:s.text},children:"Aktarım sonrası OptiPlan'ı otomatik tetikle"})]}),i.jsxs("div",{onClick:()=>R(!B),style:{marginTop:12,paddingTop:12,borderTop:`1px solid ${s.border}`,cursor:"pointer",display:"flex",justifyContent:"space-between",alignItems:"center"},children:[i.jsx("span",{style:{fontSize:14,fontWeight:600,color:s.primary.DEFAULT},children:"Gelişmiş Makine Parametreleri"}),i.jsx("span",{style:{fontSize:18,color:s.primary.DEFAULT},children:B?"−":"+"})]}),B&&i.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16,backgroundColor:s.bg.subtle,padding:16,borderRadius:r.md},children:[i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Testere Kalınlığı (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:k,onChange:e=>C(parseFloat(e.target.value)||0),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`}})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Trim Üst (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:z,onChange:e=>T(parseFloat(e.target.value)||0),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`}})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Trim Alt (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:A,onChange:e=>F(parseFloat(e.target.value)||0),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`}})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Trim Sol (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:E,onChange:e=>w(parseFloat(e.target.value)||0),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`}})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Trim Sağ (mm)"}),i.jsx("input",{type:"number",step:"0.1",value:D,onChange:e=>L(parseFloat(e.target.value)||0),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`}})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Optimizasyon Modu"}),i.jsxs("select",{value:I,onChange:e=>U(e.target.value),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`,backgroundColor:"white"},children:[i.jsx("option",{value:"Standard",children:"Standart"}),i.jsx("option",{value:"High Yield",children:"Yüksek Verim (High Yield)"}),i.jsx("option",{value:"Fast",children:"Hızlı (Fast)"})]})]}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Suyu / Desen Önceliği"}),i.jsxs("select",{value:$.toString(),onChange:e=>W(parseInt(e.target.value)),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`,backgroundColor:"white"},children:[i.jsx("option",{value:"1",children:"Kesinlikle Uy (1)"}),i.jsx("option",{value:"0",children:"Göz Ardı Et (0)"})]})]}),i.jsx("div",{style:{display:"flex",flexDirection:"column",gap:6,justifyContent:"flex-end",height:"100%",paddingBottom:6},children:i.jsxs("label",{style:{display:"flex",alignItems:"center",gap:8,cursor:"pointer"},children:[i.jsx("input",{type:"checkbox",checked:K,onChange:e=>P(e.target.checked),style:{accentColor:s.primary.DEFAULT}}),i.jsx("span",{style:{fontSize:13,color:s.text},children:"Döndürmeye İzin Ver (Rotation)"})]})}),i.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:6},children:[i.jsx("label",{style:{fontSize:13,color:s.text},children:"Parça Arası Boşluk (mm)"}),i.jsx("input",{type:"number",step:"0.5",value:O,onChange:e=>M(parseFloat(e.target.value)||0),style:{padding:"6px 10px",borderRadius:r.sm,border:`1px solid ${s.border}`}})]})]})]}),i.jsxs("div",{style:{padding:"16px 24px",borderTop:`1px solid ${s.border}`,display:"flex",justifyContent:"flex-end",gap:12,backgroundColor:`${s.bg.surface}`,flexShrink:0},children:[i.jsx(o,{variant:"ghost",onClick:n,children:"İptal"}),i.jsxs(o,{onClick:()=>{a({exportDir:p,exePath:x,formatType:g,autoTrigger:v,sawThickness:k,trimTop:z,trimBottom:A,trimLeft:E,trimRight:D,optimizationMode:I,grainPriority:$,allowRotation:K,spacingMm:O}),n()},children:[i.jsx(j,{size:16,style:{marginRight:6}}),"Kaydet"]})]})]})}):null}function oe(){const[e,c]=d.useState("all"),[u,x]=d.useState(!1),[m,g]=d.useState(!1),[y,h]=d.useState(!1),[b,f]=d.useState(!1),[j,B]=d.useState(!1),[R,U]=d.useState(!1),[W,P]=d.useState(!1),[M,_]=d.useState(!1),[G,Y]=d.useState(!1),[X,V]=d.useState(!1),[Z,q]=d.useState(!1),[ie,se]=d.useState(!1),[oe,ae]=d.useState([{id:"ai-engine",name:"AI Karar Motoru",description:"Üretim darboğazı tespiti ve kapasite tahmini",icon:i.jsx(v,{size:20,"aria-hidden":!0}),category:"ai",status:"disconnected",config:{provider:"openai",model:"gpt-4o"}},{id:"smtp",name:"SMTP Mail",description:"Sistem ve raporlama e-postaları gönderimi",icon:i.jsx(S,{size:20,"aria-hidden":!0}),category:"communication",status:"disconnected",config:{host:"",port:587}},{id:"sms",name:"SMS Gateway",description:"Kullanıcı bildirimleri için SMS entegrasyonu",icon:i.jsx(k,{size:20,"aria-hidden":!0}),category:"communication",status:"disconnected",config:{provider:"ILETI_MERKEZI",senderName:"OPTIPLAN"}},{id:"e-fatura",name:"E-Fatura",description:"E-Fatura gönderim ve alım işlemleri",icon:i.jsx(C,{size:20,"aria-hidden":!0}),category:"finance",status:"disconnected"},{id:"kargo",name:"Kargo Entegrasyonu",description:"Kargo takibi ve barkod oluşturma",icon:i.jsx(z,{size:20,"aria-hidden":!0}),category:"logistics",status:"disconnected"},{id:"mikro-erp",name:"Mikro ERP",description:"Mikro ERP sistemi ile veri senkronizasyonu",icon:i.jsx(p,{size:20,"aria-hidden":!0}),category:"database",status:"disconnected",config:{host:"",port:1433,database:"",username:"",password:""}},{id:"whatsapp",name:"WhatsApp Business",description:"Müşteri bildirimleri için WhatsApp entegrasyonu",icon:i.jsx(T,{size:20,"aria-hidden":!0}),category:"communication",status:"disconnected",config:{phoneNumberId:"",accessToken:""}},{id:"azure-ocr",name:"Azure Computer Vision",description:"Microsoft Azure OCR servisi",icon:i.jsx(A,{size:20,color:"#0078D4","aria-hidden":!0}),category:"ocr",status:"disconnected",config:{endpoint:"",key:""}},{id:"google-ocr",name:"Google Vision API",description:"Google Cloud OCR servisi",icon:i.jsx(F,{size:20,"aria-hidden":!0}),category:"ocr",status:"disconnected",config:{projectId:"",jsonKey:""}},{id:"aws-textract",name:"AWS Textract",description:"Amazon Web Services OCR servisi",icon:i.jsx(A,{size:20,color:"#FF9900","aria-hidden":!0}),category:"ocr",status:"disconnected",config:{accessKeyId:"",secretAccessKey:"",region:"us-east-1"}},{id:"tesseract",name:"Tesseract OCR",description:"Open source OCR motoru",icon:i.jsx(E,{size:20,"aria-hidden":!0}),category:"ocr",status:"disconnected",config:{languages:"tur+eng",path:""}},{id:"optiplanning",name:"Biesse OptiPlanning",description:"Master Handoff Gövde-Arkalık Optimizasyon Entegrasyonu",icon:i.jsx(E,{size:20,"aria-hidden":!0}),category:"logistics",status:"disconnected",config:{exportDir:"C:\\Biesse\\OptiPlanning\\XmlJob",exePath:"C:\\Biesse\\OptiPlanning\\System\\OptiPlan.exe",formatType:"EXCEL",autoTrigger:!0}}]),le=[{id:"all",name:"Tümü",icon:i.jsx(w,{size:16,"aria-hidden":!0})},{id:"database",name:"Veritabanı",icon:i.jsx(p,{size:16,"aria-hidden":!0})},{id:"communication",name:"İletişim",icon:i.jsx(T,{size:16,"aria-hidden":!0})},{id:"ocr",name:"OCR",icon:i.jsx(D,{size:16,"aria-hidden":!0})},{id:"ai",name:"Yapay Zeka",icon:i.jsx(v,{size:16,"aria-hidden":!0})},{id:"finance",name:"Finans",icon:i.jsx(C,{size:16,"aria-hidden":!0})},{id:"logistics",name:"Lojistik",icon:i.jsx(z,{size:16,"aria-hidden":!0})}],de=oe.filter(i=>"all"===e||i.category===e),ce=e=>{switch(e){case"connected":return"Bağlı";case"disconnected":return"Bağlı Değil";case"error":return"Hata";default:return"Bilinmiyor"}},pe=d.useCallback(async e=>{try{const i=await L.getHealth(),t=i&&"error"!==i.status;ae(i=>i.map(i=>i.id===e?{...i,status:t?"connected":"error",lastSync:(new Date).toLocaleString("tr-TR")}:i))}catch{ae(i=>i.map(i=>i.id===e?{...i,status:"error"}:i))}},[]),ue=d.useCallback(async e=>{ae(i=>i.map(i=>i.id===e?{...i,status:"disconnected",lastSync:void 0}:i))},[]),xe=d.useCallback(e=>{switch(e){case"azure-ocr":x(!0);break;case"google-ocr":g(!0);break;case"aws-textract":h(!0);break;case"tesseract":f(!0);break;case"telegram-ocr":B(!0);break;case"email-ocr":U(!0);break;case"mikro-erp":P(!0);break;case"whatsapp":V(!0);break;case"ai-engine":q(!0);break;case"optiplanning":se(!0);break;case"smtp":_(!0);break;case"sms":Y(!0);break;case"e-fatura":case"kargo":ae(i=>i.map(i=>i.id===e?{...i,status:"connected"===i.status?"disconnected":"connected"}:i))}},[]),me=d.useCallback((e,i)=>{ae(t=>t.map(t=>t.id===e?{...t,config:i,status:"connected"}:t))},[]),ge=e=>{var i;return null==(i=(e=>oe.find(i=>i.id===e))(e))?void 0:i.config};return i.jsxs("div",{className:"electric-page",children:[i.jsx(a,{title:"Moduler Entegrasyonlar",subtitle:"Harici servisler ve baglantilar",breadcrumbs:["Entegrasyonlar","Moduler Yapi"]}),i.jsxs("div",{className:"app-page-container",children:[i.jsxs("div",{style:{marginBottom:24},children:[i.jsx("h1",{style:{margin:0,fontSize:24,fontWeight:600,color:s.text},children:"Modüler Entegrasyonlar"}),i.jsx("p",{style:{margin:"8px 0 0",color:s.muted,fontSize:14},children:"Harici sistemleri ve servisleri yapılandırın"})]}),i.jsx("div",{style:{display:"flex",gap:"2px",marginBottom:"24px",borderBottom:`1px solid ${s.border}`,flexWrap:"wrap"},children:le.map(t=>i.jsxs("button",{onClick:()=>c(t.id),style:{display:"flex",alignItems:"center",gap:"6px",padding:"12px 24px",fontSize:14,fontWeight:e===t.id?700:400,color:e===t.id?s.primary.DEFAULT:s.muted,background:e===t.id?`${s.primary.DEFAULT}08`:"transparent",border:"none",borderBottom:e===t.id?`3px solid ${s.primary.DEFAULT}`:"3px solid transparent",cursor:"pointer",fontFamily:n.fontFamily.base,marginBottom:"-1px",transition:"all 0.2s",whiteSpace:"nowrap"},children:[t.icon," ",t.name]},t.id))}),i.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fill, minmax(350px, 1fr))",gap:16},children:de.map(e=>i.jsxs(t,{style:{height:"100%"},children:[i.jsxs("div",{style:{display:"flex",alignItems:"flex-start",gap:12,marginBottom:16},children:[i.jsx("div",{style:{fontSize:24},children:e.icon}),i.jsxs("div",{style:{flex:1},children:[i.jsx("h3",{style:{margin:0,fontSize:16,fontWeight:600,color:s.text},children:e.name}),i.jsx("p",{style:{margin:"4px 0 0",fontSize:13,color:s.muted,lineHeight:1.4},children:e.description})]}),i.jsx(l,{variant:"connected"===e.status?"success":"error"===e.status?"danger":"secondary",style:{fontSize:11},children:ce(e.status)})]}),e.lastSync&&i.jsxs("div",{style:{fontSize:12,color:s.muted,marginBottom:16,padding:"8px 12px",background:`${s.success[500]}10`,borderRadius:r.md,border:`1px solid ${s.success[500]}20`},children:["Son senkronizasyon: ",e.lastSync]}),i.jsxs("div",{style:{display:"flex",gap:8,marginTop:"auto"},children:["connected"===e.status?i.jsx(o,{variant:"secondary",size:"sm",onClick:()=>ue(e.id),children:"Bağlantıyı Kes"}):i.jsx(o,{size:"sm",onClick:()=>pe(e.id),children:"Bağlan"}),i.jsx(o,{variant:"ghost",size:"sm",onClick:()=>xe(e.id),children:"Yapılandır"})]})]},e.id))}),0===de.length&&i.jsx(t,{children:i.jsx("div",{style:{textAlign:"center",padding:40,color:s.muted,fontSize:14},children:"Bu kategoride entegrasyon bulunamadı."})}),i.jsx(I,{isOpen:u,onClose:()=>x(!1),onSave:e=>me("azure-ocr",e),initialConfig:ge("azure-ocr")}),i.jsx($,{isOpen:m,onClose:()=>g(!1),onSave:e=>me("google-ocr",e),initialConfig:ge("google-ocr")}),i.jsx(K,{isOpen:y,onClose:()=>h(!1),onSave:e=>me("aws-textract",e),initialConfig:ge("aws-textract")}),i.jsx(O,{isOpen:b,onClose:()=>f(!1),onSave:e=>me("tesseract",e),initialConfig:ge("tesseract")}),i.jsx(H,{isOpen:j,onClose:()=>B(!1),onSave:e=>me("telegram-ocr",e),initialConfig:ge("telegram-ocr")}),i.jsx(N,{isOpen:R,onClose:()=>U(!1),onSave:e=>me("email-ocr",e),initialConfig:ge("email-ocr")}),i.jsx(Q,{isOpen:W,onClose:()=>P(!1),onSave:e=>me("mikro-erp",e),initialConfig:ge("mikro-erp")}),i.jsx(ee,{isOpen:M,onClose:()=>_(!1),onSave:e=>me("smtp",e),initialConfig:ge("smtp")}),i.jsx(J,{isOpen:G,onClose:()=>Y(!1),onSave:e=>me("sms",e),initialConfig:ge("sms")}),i.jsx(re,{isOpen:Z,onClose:()=>q(!1),onSave:e=>me("ai-engine",e),initialConfig:ge("ai-engine")}),i.jsx(ne,{isOpen:ie,onClose:()=>se(!1),onSave:e=>me("optiplanning",e),initialConfig:ge("optiplanning")}),i.jsx(te,{isOpen:X,onClose:()=>V(!1),onSave:e=>me("whatsapp",e),initialConfig:ge("whatsapp")})]})]})}export{oe as ModularIntegrationsPage,oe as default};
