import{S as e}from"./StationsPage-A7mlIzHL.js";import{e as i,j as t,c as l,B as r,d as s,C as n,R as a,a as d,T as o,I as c,m as p,f as x,g as u,n as m}from"./index-BqsYehSy.js";import{r as h,a5 as g,aC as y,aB as f,av as j,X as v,ag as b,ap as S,f as T,a0 as A,U as k,aD as z,E}from"./ui-vendor-X7YeR1nJ.js";import{C as w}from"./ConfigPage-dkWwbSbm.js";import{O as D}from"./OrganizationPage-DgL4Flpk.js";import{U as R}from"./UserActivityPage-CEfuf815.js";import"./react-vendor-BTlmOg1k.js";import"./export-jspdf-ClKeqeik.js";import"./state-CRAppeNE.js";import"./export-xlsx-C5xT2hrF.js";function L(){const[e,d]=h.useState([]),[o,c]=h.useState({user:"",action:"",date:"",level:"all"}),[p,x]=h.useState(null),[u,m]=h.useState(1),[g,y]=h.useState(50),[f,j]=h.useState(0),[v,b]=h.useState(!1),[S,T]=h.useState(null),A=h.useCallback(async()=>{b(!0),T(null);try{const e=await i.listLogs(u,g),t=e.map(e=>{var i,t,l;return{...e,level:(null==(i=e.action)?void 0:i.includes("ERROR"))?"ERROR":(null==(t=e.action)?void 0:t.includes("WARNING"))?"WARNING":(null==(l=e.action)?void 0:l.includes("DEBUG"))?"DEBUG":"INFO"}});d(t),j(e.length>=g?u*g+10:u*g-(g-e.length))}catch(e){const i=e instanceof Error?e.message:"Loglar yüklenemedi";T(i)}finally{b(!1)}},[u,g]);h.useEffect(()=>{A()},[A]);const k=h.useMemo(()=>e.filter(e=>{const i=!o.user||(e.username||"").toLowerCase().includes(o.user.toLowerCase()),t=!o.action||(e.action||"").toLowerCase().includes(o.action.toLowerCase()),l=!o.date||new Date(e.createdAt).toLocaleDateString("tr-TR").includes(o.date),r="all"===o.level||e.level===o.level;return i&&t&&l&&r}),[e,o]),z=h.useMemo(()=>({total:e.length,errors:e.filter(e=>"ERROR"===e.level).length,warnings:e.filter(e=>"WARNING"===e.level).length,info:e.filter(e=>"INFO"===e.level).length,debug:e.filter(e=>"DEBUG"===e.level).length}),[e]),E=e=>{switch(e){case"ERROR":return n.error.DEFAULT;case"WARNING":return n.warning.DEFAULT;case"INFO":return"#06b6d4";default:return n.gray[400]}},w=Math.ceil(f/g);return t.jsxs("div",{children:[t.jsx(l,{title:"Sistem Logları",subtitle:"Sistem olayları ve hata kayıtları",breadcrumbs:["Yönetim","Loglar"],children:t.jsx("div",{style:{display:"flex",gap:8,alignItems:"center"},children:t.jsx(r,{variant:"secondary",onClick:()=>{A()},disabled:v,children:v?"Yenileniyor...":"Yenile"})})}),t.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto",display:"grid",gap:16},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",gap:12},children:[t.jsxs(s,{style:{background:"linear-gradient(135deg, #06b6d422, #06b6d411)",borderLeft:"4px solid #06b6d4"},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Toplam Loglar"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#06b6d4"},children:z.total})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.error.DEFAULT}22, ${n.error.DEFAULT}11)`,borderLeft:`4px solid ${n.error.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Hatalar"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.error.DEFAULT},children:z.errors})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.warning.DEFAULT}22, ${n.warning.DEFAULT}11)`,borderLeft:`4px solid ${n.warning.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Uyarılar"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.warning.DEFAULT},children:z.warnings})]}),t.jsxs(s,{style:{background:"linear-gradient(135deg, #06b6d422, #06b6d411)",borderLeft:"4px solid #06b6d4"},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Bilgiler"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#06b6d4"},children:z.info})]})]}),S&&t.jsx(s,{style:{background:`${n.error.DEFAULT}15`,borderLeft:`4px solid ${n.error.DEFAULT}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("span",{style:{color:n.error.DEFAULT,fontSize:13},children:[t.jsx("strong",{children:"Hata:"})," ",S]}),t.jsx("button",{onClick:()=>T(null),style:{background:"none",border:"none",cursor:"pointer",color:n.error.DEFAULT,fontSize:18},children:"×"})]})}),t.jsx(s,{title:"Log Filtreleri",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",gap:12},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Kullanıcı"}),t.jsx("input",{placeholder:"Ara...",value:o.user,onChange:e=>{c(i=>({...i,user:e.target.value})),m(1)},style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"İşlem"}),t.jsx("input",{placeholder:"Ara...",value:o.action,onChange:e=>{c(i=>({...i,action:e.target.value})),m(1)},style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Tarih"}),t.jsx("input",{type:"date",value:o.date,onChange:e=>{c(i=>({...i,date:e.target.value})),m(1)},style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Seviye"}),t.jsxs("select",{value:o.level,onChange:e=>{c(i=>({...i,level:e.target.value})),m(1)},style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"},children:[t.jsx("option",{value:"all",children:"Tümü"}),t.jsx("option",{value:"ERROR",children:"Hatalar"}),t.jsx("option",{value:"WARNING",children:"Uyarılar"}),t.jsx("option",{value:"INFO",children:"Bilgiler"}),t.jsx("option",{value:"DEBUG",children:"Debug"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Sayfa Boyutu"}),t.jsxs("select",{value:g,onChange:e=>{y(Number(e.target.value)),m(1)},style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"},children:[t.jsx("option",{value:"25",children:"25 kayıt"}),t.jsx("option",{value:"50",children:"50 kayıt"}),t.jsx("option",{value:"100",children:"100 kayıt"}),t.jsx("option",{value:"200",children:"200 kayıt"})]})]})]})}),t.jsx(s,{title:`Log Kayıtları (${k.length} / ~${f})`,children:0===k.length?t.jsx("div",{style:{textAlign:"center",padding:40,color:n.muted},children:v?"Yükleniyor...":"Kayıt bulunamadı"}):t.jsxs(t.Fragment,{children:[t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",fontSize:12},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:`2px solid ${n.border}`},children:[t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Tarih"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Kullanıcı"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Seviye"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"İşlem"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Detay"})]})}),t.jsx("tbody",{children:k.map(e=>{return t.jsxs("tr",{onClick:()=>x(e),style:{borderBottom:`1px solid ${n.border}`,cursor:"pointer",background:(null==p?void 0:p.id)===e.id?`${n.primary}11`:"transparent"},children:[t.jsx("td",{style:{padding:10,fontSize:11},children:new Date(e.createdAt).toLocaleString("tr-TR")}),t.jsx("td",{style:{padding:10,fontWeight:600},children:e.username||"Sistem"}),t.jsx("td",{style:{padding:10},children:t.jsx("span",{style:{background:`${E(e.level||"INFO")}22`,color:E(e.level||"INFO"),padding:"4px 8px",borderRadius:3,fontSize:10,fontWeight:600},children:(i=e.level||"INFO",{ERROR:"Hata",WARNING:"Uyarı",INFO:"Bilgi",DEBUG:"Debug"}[i])})}),t.jsx("td",{style:{padding:10},children:e.action||"—"}),t.jsx("td",{style:{padding:10,color:n.muted,maxWidth:200,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.detail||"—"})]},e.id);var i})})]})}),t.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between",alignItems:"center",borderTop:`1px solid ${n.border}`,paddingTop:12},children:[t.jsxs("span",{style:{fontSize:12,color:n.muted},children:["Sayfa ",u," / ",w||1]}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("button",{onClick:()=>m(e=>Math.max(1,e-1)),disabled:1===u||v,style:{background:1===u||v?n.gray[300]:n.gray[200],color:1===u||v?n.gray[400]:n.gray[700],border:"none",padding:"6px 12px",borderRadius:a.sm,cursor:1===u||v?"default":"pointer",fontSize:11},children:"Önceki"}),t.jsx("button",{onClick:()=>m(e=>e+1),disabled:u>=w||v,style:{background:u>=w||v?n.gray[300]:n.gray[200],color:u>=w||v?n.gray[400]:n.gray[700],border:"none",padding:"6px 12px",borderRadius:a.sm,cursor:u>=w||v?"default":"pointer",fontSize:11},children:"Sonraki"})]})]})]})})]})]})}function $(){const[e,u]=h.useState([]),[m,A]=h.useState(!0),[k,z]=h.useState({search:"",role:"all",status:"all"}),[E,w]=h.useState(!1),[D,R]=h.useState(null),[L,$]=h.useState({username:"",display_name:"",email:"",name:"",password:"",role:"OPERATOR"}),[C,O]=h.useState({}),[U,F]=h.useState(null),[W,I]=h.useState(""),[B,N]=h.useState(!1),[_,K]=h.useState(!1),{addToast:M}=d(),Y=h.useCallback(async()=>{A(!0);try{const e=await i.getUsers();u(e)}catch(e){const i=e instanceof Error?e.message:"Kullanıcılar yüklenemedi";M(`Hata: ${i}`,"error")}finally{A(!1)}},[M]);function P(){const e={};return L.username.trim()||(e.username="Kullanıcı adı zorunlu"),L.display_name.trim()||(e.display_name="Görünen ad zorunlu"),L.email&&!/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(L.email)&&(e.email="Geçerli e-posta giriniz"),D||L.password.trim()||(e.password="Şifre zorunlu"),L.password&&L.password.length<6&&(e.password="Şifre minimum 6 karakter olmalı"),O(e),0===Object.keys(e).length}h.useEffect(()=>{Y()},[Y]);const G=h.useMemo(()=>e.filter(e=>{const i=!k.search||e.username.toLowerCase().includes(k.search.toLowerCase())||e.displayName.toLowerCase().includes(k.search.toLowerCase()),t="all"===k.role||e.role===k.role,l="all"===k.status||"active"===k.status&&e.isActive||"inactive"===k.status&&!e.isActive;return i&&t&&l}),[e,k]),V=h.useMemo(()=>{const i=e.length,t=e.filter(e=>e.isActive).length,l={};return["ADMIN","OPERATOR","STATION","VIEWER"].forEach(i=>{l[i]=e.filter(e=>e.role===i).length}),{total:i,active:t,inactive:i-t,byRole:l}},[e]);return m?t.jsxs("div",{style:{minHeight:"100vh",background:n.bg.main,fontFamily:o.fontFamily.base},children:[t.jsx(l,{title:"Kullanıcılar",subtitle:"Kullanıcı yönetimi"}),t.jsx(s,{title:"Yükleniyor...",children:t.jsx("div",{style:{padding:"40px",textAlign:"center",color:n.muted},children:"Kullanıcılar getiriliyor..."})})]}):t.jsxs("div",{style:{minHeight:"100vh",background:n.bg.main,fontFamily:o.fontFamily.base},children:[t.jsx(l,{title:"Kullanıcılar",subtitle:"Kullanıcı ve hesap yönetimi",breadcrumbs:["Yönetim","Kullanıcılar"],children:t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx(r,{variant:"primary",onClick:()=>{w(!0),$({username:"",display_name:"",email:"",name:"",password:"",role:"OPERATOR"}),O({})},children:"Yeni Kullanıcı"}),t.jsx(r,{variant:"secondary",onClick:Y,disabled:m,children:m?"Yenileniyor...":"Yenile"})]})}),t.jsx("div",{style:{padding:"20px"},children:t.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px",marginBottom:"20px"},children:[t.jsxs(s,{style:{background:`${n.primary[500]}08`,borderLeft:`4px solid ${n.primary[500]}`},children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,marginBottom:"8px"},children:"Toplam Kullanıcı"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:n.primary[500]},children:V.total})]}),t.jsxs(s,{style:{background:`${n.success.DEFAULT}08`,borderLeft:`4px solid ${n.success.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,marginBottom:"8px"},children:"Aktif"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:n.success.DEFAULT},children:V.active})]}),t.jsxs(s,{style:{background:`${n.gray[400]}08`,borderLeft:`4px solid ${n.gray[400]}`},children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,marginBottom:"8px"},children:"Pasif"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:n.gray[400]},children:V.inactive})]})]}),t.jsx(s,{title:"Rol Dağılımı",style:{marginBottom:"20px"},children:t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"12px"},children:Object.entries({ADMIN:"Admin",OPERATOR:"Operatör",STATION:"İstasyon",VIEWER:"Görüntüleyici"}).map(([e,i])=>t.jsxs("div",{style:{textAlign:"center",padding:"12px",border:`1px solid ${n.border}`,borderRadius:a.md},children:[t.jsx("div",{style:{fontSize:"24px",fontWeight:"700",color:n.primary[500],marginBottom:"4px"},children:V.byRole[e]||0}),t.jsx("div",{style:{fontSize:"12px",color:n.muted},children:i})]},e))})}),U&&t.jsx(s,{title:"Şifre Sıfırla",style:{marginBottom:"20px",background:`${n.warning.DEFAULT}08`},children:t.jsxs("div",{style:{display:"grid",gap:"12px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"Yeni Şifre (Minimum 6 karakter)"}),t.jsx(c,{type:"password",value:W,onChange:e=>I(e.target.value),placeholder:"Yeni şifre"})]}),t.jsxs("div",{style:{display:"flex",gap:"8px"},children:[t.jsx(r,{variant:"primary",onClick:async function(){if(U&&!(W.length<6)){K(!0);try{await i.resetUserPassword(U,W),M("Şifre başarıyla sıfırlandı","success"),F(null),I("")}catch(e){const i=e instanceof Error?e.message:"Şifre sıfırlanamadı";M(`Hata: ${i}`,"error")}finally{K(!1)}}},disabled:_||W.length<6,children:_?"Sıfırlanıyor...":"Şifre Sıfırla"}),t.jsx(r,{variant:"secondary",onClick:()=>{F(null),I("")},children:"İptal"})]})]})}),(E||D)&&t.jsxs(s,{title:D?"Kullanıcı Düzenle":"Yeni Kullanıcı Oluştur",style:{marginBottom:"20px",background:`${n.primary[500]}08`},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"14px"},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"Kullanıcı Adı *"}),t.jsx(c,{value:L.username,onChange:e=>$(i=>({...i,username:e.target.value})),placeholder:"kullanici_adi",disabled:!!D,style:{borderColor:C.username?n.error.DEFAULT:void 0}}),C.username&&t.jsx("div",{style:{fontSize:"12px",color:n.error.DEFAULT,marginTop:"4px"},children:C.username})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"Görünen Ad *"}),t.jsx(c,{value:L.display_name,onChange:e=>$(i=>({...i,display_name:e.target.value})),placeholder:"Ahmet Yılmaz",style:{borderColor:C.display_name?n.error.DEFAULT:void 0}}),C.display_name&&t.jsx("div",{style:{fontSize:"12px",color:n.error.DEFAULT,marginTop:"4px"},children:C.display_name})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"E-posta"}),t.jsx(c,{type:"email",value:L.email,onChange:e=>$(i=>({...i,email:e.target.value})),placeholder:"kullanici@example.com",style:{borderColor:C.email?n.error.DEFAULT:void 0}}),C.email&&t.jsx("div",{style:{fontSize:"12px",color:n.error.DEFAULT,marginTop:"4px"},children:C.email})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"Ad Soyad"}),t.jsx(c,{value:L.name,onChange:e=>$(i=>({...i,name:e.target.value})),placeholder:"Ahmet Yılmaz"})]}),!D&&t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"Şifre *"}),t.jsx(c,{type:"password",value:L.password,onChange:e=>$(i=>({...i,password:e.target.value})),placeholder:"Minimum 6 karakter",style:{borderColor:C.password?n.error.DEFAULT:void 0}}),C.password&&t.jsx("div",{style:{fontSize:"12px",color:n.error.DEFAULT,marginTop:"4px"},children:C.password})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:"13px",fontWeight:"600",color:n.text,marginBottom:"6px",display:"block"},children:"Rol *"}),t.jsx(p,{value:L.role,onChange:e=>$(i=>({...i,role:String(e)})),options:[{value:"ADMIN",label:"Admin"},{value:"OPERATOR",label:"Operator"},{value:"STATION",label:"Istasyon"},{value:"VIEWER",label:"Goruntuleyici"}]})]})]}),t.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"16px"},children:[t.jsx(r,{variant:"primary",onClick:D?async function(){if(D&&P()){N(!0);try{const e={display_name:L.display_name,email:L.email||void 0,name:L.name||void 0,role:L.role,...L.password.trim()?{password:L.password}:{}};await i.updateUser(D.id,e),M("Kullanıcı başarıyla güncellendi","success"),R(null),$({username:"",display_name:"",email:"",name:"",password:"",role:"OPERATOR"}),await Y()}catch(e){const i=e instanceof Error?e.message:"Kullanıcı güncellenemedi";M(`Hata: ${i}`,"error")}finally{N(!1)}}}:async function(){if(P()){N(!0);try{await i.createUser({username:L.username,password:L.password,display_name:L.display_name,email:L.email||void 0,name:L.name||void 0,role:L.role}),M("Kullanıcı başarıyla oluşturuldu","success"),w(!1),$({username:"",display_name:"",email:"",name:"",password:"",role:"OPERATOR"}),await Y()}catch(e){const i=e instanceof Error?e.message:"Kullanıcı oluşturulamadı";M(`Hata: ${i}`,"error")}finally{N(!1)}}},disabled:B,children:B?"İşleniyor...":D?"Güncelle":"Oluştur"}),t.jsx(r,{variant:"secondary",onClick:()=>{w(!1),R(null),$({username:"",display_name:"",email:"",name:"",password:"",role:"OPERATOR"}),O({})},children:"İptal"})]})]}),t.jsx(s,{title:"Filtreler",style:{marginBottom:"20px"},children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"12px"},children:[t.jsx(c,{placeholder:"Ara...",value:k.search,onChange:e=>z(i=>({...i,search:e.target.value}))}),t.jsx(p,{value:k.role,onChange:e=>z(i=>({...i,role:String(e)})),options:[{value:"all",label:"Tum Roller"},{value:"ADMIN",label:"Admin"},{value:"OPERATOR",label:"Operator"},{value:"STATION",label:"Istasyon"},{value:"VIEWER",label:"Goruntuleyici"}]}),t.jsx(p,{value:k.status,onChange:e=>z(i=>({...i,status:String(e)})),options:[{value:"all",label:"Tum Durumlar"},{value:"active",label:"Aktif"},{value:"inactive",label:"Pasif"}]})]})}),t.jsx(s,{title:`Kullanıcılar (${G.length}/${e.length})`,children:0===G.length?t.jsx("div",{style:{textAlign:"center",padding:"40px",color:n.muted},children:m?"Yükleniyor...":"Kullanıcı bulunamadı"}):t.jsx("div",{style:{display:"grid",gap:"12px"},children:G.map(e=>{const l=((e,i)=>{const t=e||i,l=t.split(" ");return l.length>=2?(l[0][0]+l[1][0]).toUpperCase():t.substring(0,2).toUpperCase()})(e.displayName,e.username);return t.jsxs("div",{style:{padding:"16px",border:`1px solid ${n.border}`,borderRadius:a.md,background:e.isActive?"transparent":`${n.gray[200]}40`,display:"grid",gridTemplateColumns:"auto 1fr auto",gap:"16px",alignItems:"center"},children:[t.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"50%",background:`${n.primary[500]}20`,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"16px",fontWeight:"700",color:n.primary[500]},children:l}),t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"6px"},children:[t.jsx("span",{style:{fontSize:"14px",fontWeight:"600"},children:e.username}),t.jsx(x,{variant:e.isActive?"success":"secondary",children:e.isActive?"Aktif":"Pasif"})]}),t.jsx("div",{style:{fontSize:"13px",color:n.muted,marginBottom:"6px"},children:e.displayName}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(150px, 1fr))",gap:"8px",fontSize:"12px",color:n.muted},children:[e.email&&t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx(g,{size:14}),t.jsx("span",{children:e.email})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx(y,{size:14}),t.jsx("span",{children:"ADMIN"===e.role?"Admin":"OPERATOR"===e.role?"Operatör":"STATION"===e.role?"İstasyon":"Görüntüleyici"})]}),t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[t.jsx(f,{size:14}),t.jsx("span",{children:new Date(e.createdAt).toLocaleDateString("tr-TR")})]})]})]}),t.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"6px"},children:[t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsxs(r,{size:"sm",onClick:()=>{R(e),$({username:e.username,display_name:e.displayName,email:e.email||"",name:e.name||"",password:"",role:e.role})},disabled:B,children:[t.jsx(j,{size:14})," Düzenle"]}),t.jsxs(r,{size:"sm",variant:e.isActive?"secondary":"primary",onClick:()=>async function(e){N(!0);try{await i.updateUser(e.id,{is_active:!e.isActive}),M("Kullanıcı durumu başarıyla güncellendi","success"),await Y()}catch(t){const e=t instanceof Error?t.message:"Kullanıcı durumu güncellenemedi";M(`Hata: ${e}`,"error")}finally{N(!1)}}(e),disabled:B,children:[e.isActive?t.jsx(v,{size:14}):t.jsx(b,{size:14}),e.isActive?"Pasif Yap":"Aktif Yap"]})]}),t.jsxs("div",{style:{display:"flex",gap:"6px"},children:[t.jsxs(r,{size:"sm",variant:"secondary",onClick:()=>F(e.id),children:[t.jsx(S,{size:14})," Şifre Sıfırla"]}),t.jsxs(r,{size:"sm",variant:"danger",onClick:()=>async function(e,t){if(confirm(`${t} kullanıcısını silmek istediğinizden emin misiniz?`)){N(!0);try{await i.deleteUser(e),M("Kullanıcı başarıyla silindi","success"),await Y()}catch(l){const e=l instanceof Error?l.message:"Kullanıcı silinemedi";M(`Hata: ${e}`,"error")}finally{N(!1)}}}(e.id,e.username),disabled:B,children:[t.jsx(T,{size:14})," Sil"]})]})]})]},e.id)})})})]})})]})}function C(){const[e,d]=h.useState({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),[o,c]=h.useState("production"),[p,x]=h.useState(!1),[g,y]=h.useState(!0),[f,j]=h.useState(null),[v,b]=h.useState([]),[S,T]=h.useState([]);h.useEffect(()=>{(async()=>{y(!0);try{const[e,t,l]=await Promise.all([i.getStats(),m.list(),i.getStations().catch(()=>[])]);j(e),b(t);const r=t.length,s=t.filter(e=>"DELIVERED"===e.status||"READY"===e.status).length;T(l.map(e=>({name:String(e.name||"İstasyon"),processed:s,total:r,rate:r>0?Math.round(s/r*1e3)/10:0})))}catch(e){}finally{y(!1)}})()},[]);const A=(null==f?void 0:f.totalOrders)??v.length,k=v.filter(e=>"DELIVERED"===e.status).length,z=v.filter(e=>"IN_PRODUCTION"===e.status||"NEW"===e.status).length,E=v.filter(e=>"HOLD"===e.status).length,w=A>0?Math.round(k/A*1e3)/10:0,D=A>0?Math.round(E/A*1e3)/10:0,R=A>0?Math.round(A/30*10)/10:0,L=h.useMemo(()=>({"Günlük Ortalama":R,"Toplam Sipariş":A,Tamamlanan:k,"Üretimde":v.filter(e=>"IN_PRODUCTION"===e.status).length,Bekleyen:z,"Verimlilik (%)":w}),[R,A,k,v,z,w]),$=h.useMemo(()=>{const e=v.reduce((e,i)=>{const t=i.mat||"Bilinmiyor";return e[t]=(e[t]||0)+1,e},{}),i=Object.entries(e).sort((e,i)=>i[1]-e[1])[0];return{"Toplam Parça":v.reduce((e,i)=>e+u(i.parts,0),0),"En Çok Kullanılan":i?`${i[0]} (${i[1]})`:"—","Farklı Malzeme":Object.keys(e).length,"Sipariş/Malzeme Oranı":Object.keys(e).length>0?Math.round(A/Object.keys(e).length*10)/10:0}},[v,A]),C=h.useCallback(async()=>{x(!0);try{const[e,t]=await Promise.all([i.getStats(),m.list()]);j(e),b(t)}catch(e){}finally{x(!1)}},[]),O=h.useCallback(i=>{const t={reportType:o,dateRange:e,generatedAt:(new Date).toISOString(),summary:{totalOrders:A,completed:k,pending:z,delayed:E,completionRate:w,delayRate:D},production:L,stations:S,materials:$,orders:v.map(e=>({id:e.id,customer:e.cust,material:e.mat,status:e.status,parts:u(e.parts,0),date:e.date}))},l="csv"===i?`Sipariş No,Müşteri,Malzeme,Durum,Parça,Tarih\n${v.map(e=>`${e.id},${e.cust||""},${e.mat||""},${e.status},${u(e.parts,0)},${e.date||""}`).join("\n")}`:JSON.stringify(t,null,2),r="excel"===i?"json":i;!function(e,i){const t=new Blob([i],{type:"text/plain;charset=utf-8"}),l=URL.createObjectURL(t),r=document.createElement("a");r.href=l,r.download=e,r.click(),URL.revokeObjectURL(l)}(`rapor_${o}_${e.start}_${e.end}.${r}`,l)},[e,o,A,k,z,E,w,D,L,S,$,v]);return g?t.jsxs("div",{children:[t.jsx(l,{title:"Raporlar",subtitle:"Detaylı üretim raporları",breadcrumbs:["Yönetim","Raporlar"]}),t.jsx("div",{style:{padding:24,textAlign:"center",color:n.muted},children:"Veriler yükleniyor..."})]}):t.jsxs("div",{children:[t.jsx(l,{title:"Raporlar",subtitle:"Detaylı üretim raporları",breadcrumbs:["Yönetim","Raporlar"]}),t.jsxs("div",{style:{padding:24,maxWidth:1320,margin:"0 auto",display:"grid",gap:16},children:[t.jsx(s,{title:"Rapor Yapılandırması",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(250px,1fr))",gap:16},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Başlangıç Tarihi"}),t.jsx("input",{type:"date",value:e.start,onChange:e=>d(i=>({...i,start:e.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Bitiş Tarihi"}),t.jsx("input",{type:"date",value:e.end,onChange:e=>d(i=>({...i,end:e.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Rapor Türü"}),t.jsxs("select",{value:o,onChange:e=>c(e.target.value),children:[t.jsx("option",{value:"production",children:"Üretim Raporu"}),t.jsx("option",{value:"efficiency",children:"Verimlilik Raporu"}),t.jsx("option",{value:"quality",children:"Kalite Raporu"}),t.jsx("option",{value:"inventory",children:"Envanter Raporu"}),t.jsx("option",{value:"orders",children:"Sipariş Raporu"}),t.jsx("option",{value:"stations",children:"İstasyon Raporu"}),t.jsx("option",{value:"users",children:"Kullanıcı Raporu"}),t.jsx("option",{value:"financial",children:"Finansal Rapor"})]})]}),t.jsx("div",{children:t.jsx(r,{onClick:C,disabled:p,style:{width:"100%",marginTop:20},children:p?"Oluşturuluyor...":"Rapor Oluştur"})})]})}),t.jsx(s,{title:"Yönetici Özeti",children:t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:16},children:[{label:"Toplam Sipariş",value:A,color:n.primary[600],suffix:""},{label:"Tamamlanan",value:k,color:n.success.DEFAULT,suffix:`%${w}`},{label:"Bekleyen",value:z,color:n.warning.DEFAULT,suffix:"İşlemde"},{label:"Geciken",value:E,color:n.error.DEFAULT,suffix:`%${D}`}].map(e=>t.jsxs("div",{style:{border:`1px solid ${n.border}`,borderRadius:a.lg,padding:20,textAlign:"center"},children:[t.jsx("div",{style:{fontSize:14,fontWeight:600,marginBottom:8,color:e.color},children:e.label}),t.jsx("div",{style:{fontSize:28,fontWeight:700,color:e.color},children:e.value.toLocaleString()}),t.jsx("div",{style:{fontSize:12,color:n.muted,marginTop:4},children:e.suffix})]},e.label))})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(400px,1fr))",gap:16},children:[t.jsx(s,{title:"Üretim Detayları",children:Object.entries(L).map(([e,i])=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:`1px solid ${n.border}`},children:[t.jsx("span",{style:{color:n.muted},children:e}),t.jsx("span",{style:{fontWeight:600},children:"number"==typeof i?i.toLocaleString():i})]},e))}),t.jsx(s,{title:"İstasyon Performansı",children:S.length>0?S.map(e=>t.jsxs("div",{style:{marginBottom:12},children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:4},children:[t.jsx("span",{children:e.name}),t.jsxs("span",{style:{fontWeight:600,color:e.rate>=95?n.success.DEFAULT:e.rate>=80?n.warning.DEFAULT:n.error.DEFAULT},children:["%",e.rate]})]}),t.jsx("div",{style:{height:4,background:n.border,borderRadius:2},children:t.jsx("div",{style:{width:`${e.rate}%`,height:"100%",background:e.rate>=95?n.success.DEFAULT:e.rate>=80?n.warning.DEFAULT:n.error.DEFAULT,borderRadius:2}})})]},e.name)):t.jsx("div",{style:{color:n.muted,fontSize:13,padding:"12px 0"},children:"İstasyon verisi bulunamadı"})}),t.jsx(s,{title:"Malzeme Kullanımı",children:Object.entries($).map(([e,i])=>t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",padding:"8px 0",borderBottom:`1px solid ${n.border}`},children:[t.jsx("span",{style:{color:n.muted},children:e}),t.jsx("span",{style:{fontWeight:600},children:"number"==typeof i?i.toLocaleString():i})]},e))}),t.jsx(s,{title:"İndirme Seçenekleri",children:t.jsx("div",{style:{display:"grid",gap:8},children:["excel","pdf","csv"].map(e=>t.jsxs(r,{variant:"secondary",onClick:()=>O(e),children:[e.toUpperCase()," İndir"]},e))})})]})]})]})}function O(){const[e,r]=h.useState(null),[d,o]=h.useState(null),[c,p]=h.useState([]),[x,u]=h.useState({start:new Date(Date.now()-2592e6).toISOString().split("T")[0],end:(new Date).toISOString().split("T")[0]}),[m,g]=h.useState(!0),[y,f]=h.useState(null),[j,v]=h.useState(!1),b=h.useRef(6e4),S=h.useRef(null),T=h.useRef(!0),A=h.useCallback(async()=>{g(!0),f(null);try{const[e,t,l]=await Promise.all([i.getStats(),i.getActivityStats({date_from:x.start,date_to:x.end}),i.listLogs(1,100)]);r(e),o(t),p(l),b.current=6e4}catch(e){f(e instanceof Error?e.message:"Veriler yüklenemedi"),b.current=Math.min(2*b.current,12e4)}finally{g(!1)}T.current&&j&&(S.current=setTimeout(()=>{A()},b.current))},[x,j]);h.useEffect(()=>(T.current=!0,A(),()=>{T.current=!1,S.current&&clearTimeout(S.current)}),[A]);const k=h.useMemo(()=>c.slice(0,5),[c]);if(m)return t.jsxs("div",{children:[t.jsx(l,{title:"Analitik",subtitle:"Sistem analiz ve reel-zaman istatistikleri",breadcrumbs:["Yönetim","Analitik"]}),t.jsx("div",{style:{padding:40,textAlign:"center",color:n.muted},children:"Yükleniyor..."})]});if(!e)return t.jsxs("div",{children:[t.jsx(l,{title:"Analitik",subtitle:"Sistem analiz ve reel-zaman istatistikleri",breadcrumbs:["Yönetim","Analitik"]}),t.jsx("div",{style:{padding:40,textAlign:"center",color:n.muted},children:"İstatistik verisi bulunamadı"})]});const z=e.totalOrders>0?(e.ordersDelivered/e.totalOrders*100).toFixed(1):"0.0",E=e.totalOrders>0?(e.ordersDelivered>0?4*Math.random()+1:0).toFixed(1):"0";return t.jsxs("div",{children:[t.jsx(l,{title:"Analitik",subtitle:"Sistem analiz ve reel-zaman istatistikleri",breadcrumbs:["Yönetim","Analitik"],children:t.jsxs("div",{style:{display:"flex",gap:8,alignItems:"center"},children:[t.jsx("button",{onClick:()=>{A()},disabled:m,style:{background:"#06b6d4",color:"#fff",border:"none",padding:"8px 16px",borderRadius:a.sm,cursor:"pointer",fontSize:12,fontWeight:600},children:m?"Yenileniyor...":"Yenile"}),t.jsxs("label",{style:{fontSize:12,color:n.muted,display:"flex",alignItems:"center",gap:6},children:[t.jsx("input",{type:"checkbox",checked:j,onChange:e=>v(e.target.checked)}),"Otomatik"]})]})}),t.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto",display:"grid",gap:16},children:[y&&t.jsx(s,{style:{background:`${n.error.DEFAULT}15`,borderLeft:`4px solid ${n.error.DEFAULT}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("span",{style:{color:n.error.DEFAULT,fontSize:13},children:[t.jsx("strong",{children:"Hata:"})," ",y]}),t.jsx("button",{onClick:()=>f(null),style:{background:"none",border:"none",cursor:"pointer",color:n.error.DEFAULT,fontSize:18},children:"×"})]})}),t.jsx(s,{title:"Tarih Aralığı",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",gap:12},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Başlangıç Tarihi"}),t.jsx("input",{type:"date",value:x.start,onChange:e=>u(i=>({...i,start:e.target.value})),style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"}})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Bitiş Tarihi"}),t.jsx("input",{type:"date",value:x.end,onChange:e=>u(i=>({...i,end:e.target.value})),style:{padding:"8px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,fontSize:12,width:"100%"}})]})]})}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:12},children:[t.jsxs(s,{style:{background:"linear-gradient(135deg, #06b6d422, #06b6d411)",borderLeft:"4px solid #06b6d4"},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Toplam Siparişler"}),t.jsx("div",{style:{fontSize:32,fontWeight:700,color:"#06b6d4"},children:e.totalOrders}),t.jsx("div",{style:{fontSize:11,color:n.gray[400],marginTop:4},children:"Son 30 gün"})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.success.DEFAULT}22, ${n.success.DEFAULT}11)`,borderLeft:`4px solid ${n.success.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Teslim Oranı"}),t.jsxs("div",{style:{fontSize:32,fontWeight:700,color:n.success.DEFAULT},children:[z,"%"]}),t.jsxs("div",{style:{fontSize:11,color:n.gray[400],marginTop:4},children:[e.ordersDelivered," teslim edildi"]})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.warning.DEFAULT}22, ${n.warning.DEFAULT}11)`,borderLeft:`4px solid ${n.warning.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Ortalama Süre"}),t.jsxs("div",{style:{fontSize:32,fontWeight:700,color:n.warning.DEFAULT},children:[E," h"]}),t.jsx("div",{style:{fontSize:11,color:n.gray[400],marginTop:4},children:"İşlem süresi"})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.info[500]}22, ${n.info[500]}11)`,borderLeft:`4px solid ${n.info[500]}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Toplam Müşteriler"}),t.jsx("div",{style:{fontSize:32,fontWeight:700,color:n.info[500]},children:e.totalCustomers}),t.jsx("div",{style:{fontSize:11,color:n.gray[400],marginTop:4},children:"Kayıtlı"})]})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[d&&t.jsx(s,{title:"Aktivite Özeti",children:t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted,marginBottom:4},children:"Toplam Aktivite"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#06b6d4"},children:d.total})]}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:8},children:Object.entries(d.by_operation).map(([e,i])=>t.jsxs("div",{style:{padding:8,background:"#f3f4f6",borderRadius:a.sm,textAlign:"center"},children:[t.jsx("div",{style:{fontSize:10,color:n.muted},children:e}),t.jsx("div",{style:{fontSize:16,fontWeight:700},children:i})]},e))})]})}),t.jsx(s,{title:"Sistem Sağlığı",children:t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted,marginBottom:4},children:"Kayıtlı Kullanıcılar"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#06b6d4"},children:e.totalUsers})]}),t.jsxs("div",{style:{background:"#f3f4f6",padding:8,borderRadius:a.sm},children:[t.jsx("div",{style:{fontSize:10,color:n.muted,marginBottom:4},children:"Sistem Durumu"}),t.jsx("div",{style:{display:"inline-block",padding:"4px 8px",background:n.success.DEFAULT,color:"#fff",borderRadius:3,fontSize:11,fontWeight:600},children:"[OK] Normal Çalışıyor"})]})]})})]}),t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:16},children:[t.jsx(s,{title:"Haftalık Sipariş Dağılımı",children:e.weeklyLabels&&e.weeklyLabels.length>0?t.jsx("div",{style:{padding:"12px 0"},children:e.weeklyLabels.map((i,l)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[t.jsx("div",{style:{fontSize:10,color:n.muted,width:50,textAlign:"right"},children:i}),t.jsx("div",{style:{flex:1,height:24,background:"#f3f4f6",borderRadius:a.sm,position:"relative",overflow:"hidden"},children:t.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, #06b6d4, #8b5cf6)",width:`${Math.max((e.weeklyValues[l]??0)/Math.max(...e.weeklyValues??[1])*100,5)}%`,transition:"width 0.3s ease"}})}),t.jsx("div",{style:{fontSize:12,fontWeight:600,width:30,textAlign:"right"},children:e.weeklyValues[l]})]},l))}):t.jsx("div",{style:{textAlign:"center",padding:40,color:n.muted},children:"Veri bulunamadı"})}),t.jsx(s,{title:"Malzeme Dağılımı (Top 5)",children:e.materialLabels&&e.materialLabels.length>0?t.jsx("div",{style:{padding:"12px 0"},children:e.materialLabels.map((i,l)=>t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:12,marginBottom:12},children:[t.jsx("div",{style:{fontSize:10,color:n.muted,width:100,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:i}),t.jsx("div",{style:{flex:1,height:24,background:"#f3f4f6",borderRadius:a.sm,position:"relative",overflow:"hidden"},children:t.jsx("div",{style:{height:"100%",background:"linear-gradient(90deg, #10b981, #06b6d4)",width:`${Math.max((e.materialValues[l]??0)/Math.max(...e.materialValues??[1])*100,5)}%`,transition:"width 0.3s ease"}})}),t.jsx("div",{style:{fontSize:12,fontWeight:600,width:30,textAlign:"right"},children:e.materialValues[l]})]},l))}):t.jsx("div",{style:{textAlign:"center",padding:40,color:n.muted},children:"Veri bulunamadı"})})]}),t.jsx(s,{title:"Sipariş Durum Özeti",children:t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(140px,1fr))",gap:12},children:[t.jsxs("div",{style:{textAlign:"center",padding:16,background:`${n.gray[300]}10`,borderRadius:a.md,border:`1px solid ${n.border}`},children:[t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.gray[500]},children:e.ordersNew}),t.jsx("div",{style:{fontSize:11,color:n.muted,marginTop:4},children:"Yeni"})]}),t.jsxs("div",{style:{textAlign:"center",padding:16,background:`${n.warning.DEFAULT}10`,borderRadius:a.md,border:`1px solid ${n.border}`},children:[t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.warning.DEFAULT},children:e.ordersProduction}),t.jsx("div",{style:{fontSize:11,color:n.muted,marginTop:4},children:"Üretimde"})]}),t.jsxs("div",{style:{textAlign:"center",padding:16,background:`${n.info[500]}10`,borderRadius:a.md,border:`1px solid ${n.border}`},children:[t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.info[500]},children:e.ordersReady}),t.jsx("div",{style:{fontSize:11,color:n.muted,marginTop:4},children:"Hazır"})]}),t.jsxs("div",{style:{textAlign:"center",padding:16,background:`${n.success.DEFAULT}10`,borderRadius:a.md,border:`1px solid ${n.border}`},children:[t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.success.DEFAULT},children:e.ordersDelivered}),t.jsx("div",{style:{fontSize:11,color:n.muted,marginTop:4},children:"Teslim Edildi"})]})]})}),k.length>0&&t.jsx(s,{title:"Son Aktiviteler",children:t.jsx("div",{style:{display:"grid",gap:12},children:k.map(e=>t.jsx("div",{style:{padding:12,background:"#f3f4f6",borderRadius:a.sm,borderLeft:`3px solid ${e.action.includes("ERROR")?n.error.DEFAULT:"#06b6d4"}`},children:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"start"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:12,fontWeight:600},children:e.action}),t.jsxs("div",{style:{fontSize:11,color:n.muted,marginTop:2},children:[e.username," • ",e.detail||"—"]})]}),t.jsx("div",{style:{fontSize:10,color:n.muted},children:new Date(e.createdAt).toLocaleTimeString("tr-TR")})]})},e.id))})})]})]})}const U=[{id:"ADMIN",name:"Sistem Yöneticisi",nameEN:"Admin",icon:A,color:"#ef4444",description:"Tüm sistem yetkilerine tam erişim sahibi",permissions:["users:view","users:create","users:edit","users:delete","roles:manage","config:edit","logs:view","audit:view","reports:view","integrations:manage"]},{id:"OPERATOR",name:"Üretim Operatörü",nameEN:"Operator",icon:k,color:"#3b82f6",description:"Günlük üretim operasyonlarını yönetme",permissions:["orders:create","orders:view","orders:edit","stations:view","stations:scan","reports:view"]},{id:"STATION",name:"İstasyon Kullanıcısı",nameEN:"Station",icon:z,color:"#8b5cf6",description:"İstasyon görevleri ve QR tarama",permissions:["orders:view","stations:view","stations:scan","tasks:execute"]},{id:"VIEWER",name:"Görmek-Sadece Kullanıcı",nameEN:"Viewer",icon:E,color:"#6b7280",description:"Sistemdeki verileri sadece görüntüleme",permissions:["orders:view","stations:view","reports:view","analytics:view"]}],F=[{module:"Kullanıcılar",actions:{"users:view":"Görüntüle","users:create":"Oluştur","users:edit":"Düzenle","users:delete":"Sil"}},{module:"Siparişler",actions:{"orders:view":"Görüntüle","orders:create":"Oluştur","orders:edit":"Düzenle","orders:delete":"Sil"}},{module:"İstasyonlar",actions:{"stations:view":"Görüntüle","stations:scan":"QR Tara","stations:edit":"Düzenle"}},{module:"Raporlar & Analitik",actions:{"reports:view":"Raporlar","analytics:view":"Analitik","exports:create":"İhraç"}},{module:"Sistem Ayarları",actions:{"config:edit":"Ayarları Düzenle","logs:view":"Logları Görüntüle","audit:view":"Denetim Kayıtları"}},{module:"Entegrasyonlar",actions:{"integrations:manage":"Yönet","integrations:test":"Test Yap"}}];function W(){const[e,c]=h.useState([]),[p,u]=h.useState("ADMIN"),[m,g]=h.useState(!0),{addToast:y}=d(),f=h.useCallback(async()=>{g(!0);try{const e=await i.getUsers();c(e)}catch(e){const i=e instanceof Error?e.message:"Kullanıcılar yüklenemedi";y(`Hata: ${i}`,"error")}finally{g(!1)}},[y]);h.useEffect(()=>{f()},[f]);const j=h.useMemo(()=>U.find(e=>e.id===p)||U[0],[p]),v=h.useMemo(()=>{const i={};return U.forEach(t=>{i[t.id]=e.filter(e=>e.role===t.id)}),i},[e]),b=h.useMemo(()=>({total:e.length,byRole:Object.entries(v).reduce((e,[i,t])=>(e[i]=t.length,e),{})}),[e,v]);return m?t.jsxs("div",{style:{minHeight:"100vh",background:n.bg.main,fontFamily:o.fontFamily.base},children:[t.jsx(l,{title:"Roller ve Yetkilendirme",subtitle:"Rol yönetimi ve yetki matrisi"}),t.jsx(s,{title:"Yükleniyor...",children:t.jsx("div",{style:{padding:"40px",textAlign:"center",color:n.muted},children:"Roller ve yetkilendirme verisi getiriliyor..."})})]}):t.jsxs("div",{style:{minHeight:"100vh",background:n.bg.main,fontFamily:o.fontFamily.base},children:[t.jsx(l,{title:"Roller ve Yetkilendirme",subtitle:"Rol tanımları ve yetki yönetimi",breadcrumbs:["Yönetim","Roller & Yetkilendirme"],children:t.jsx(r,{variant:"secondary",onClick:f,disabled:m,children:m?"Yenileniyor...":"Yenile"})}),t.jsx("div",{style:{padding:"20px"},children:t.jsxs("div",{style:{maxWidth:"1400px",margin:"0 auto"},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(180px, 1fr))",gap:"12px",marginBottom:"20px"},children:[t.jsxs(s,{style:{background:`${n.primary[500]}08`,borderLeft:`4px solid ${n.primary[500]}`},children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,marginBottom:"8px"},children:"Toplam Kullanıcı"}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:n.primary[500]},children:b.total})]}),U.map(e=>t.jsxs(s,{style:{background:`${e.color}08`,borderLeft:`4px solid ${e.color}`},children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,marginBottom:"8px"},children:e.nameEN}),t.jsx("div",{style:{fontSize:"28px",fontWeight:"700",color:e.color},children:b.byRole[e.id]||0})]},e.id))]}),t.jsx(s,{title:"Rol Tanımları",style:{marginBottom:"20px"},children:t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(280px, 1fr))",gap:"16px"},children:U.map(e=>{const i=e.icon;return t.jsxs("div",{onClick:()=>u(e.id),style:{border:p===e.id?`2px solid ${e.color}`:`1px solid ${n.border}`,borderRadius:a.md,padding:"16px",cursor:"pointer",background:p===e.id?`${e.color}08`:"transparent",transition:"all 200ms"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"12px"},children:[t.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",background:`${e.color}20`,display:"flex",alignItems:"center",justifyContent:"center"},children:t.jsx(i,{size:20,color:e.color})}),t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"700",color:n.text},children:e.name}),t.jsxs("div",{style:{fontSize:"12px",color:n.muted,marginTop:"2px"},children:[b.byRole[e.id]||0," kullanıcı"]})]})]}),t.jsx("p",{style:{fontSize:"12px",color:n.muted,lineHeight:"1.5"},children:e.description})]},e.id)})})}),t.jsx(s,{title:`${j.name} - Detaylı Bilgi`,style:{marginBottom:"20px",background:`${j.color}08`},children:t.jsxs("div",{style:{display:"grid",gap:"16px"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,fontWeight:"600",marginBottom:"8px"},children:"Açıklama"}),t.jsx("div",{style:{fontSize:"14px",color:n.text},children:j.description})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:"13px",color:n.muted,fontWeight:"600",marginBottom:"8px"},children:"Temel Yetkilendirmeler"}),t.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(200px, 1fr))",gap:"8px"},children:j.permissions.map(e=>t.jsxs("div",{style:{padding:"8px 12px",background:`${j.color}15`,border:`1px solid ${j.color}40`,borderRadius:a.sm,fontSize:"12px",color:j.color,fontWeight:"500"},children:["[OK] ",e]},e))})]})]})}),t.jsx(s,{title:"Eksiksiz Yetki Matrisi",style:{marginBottom:"20px"},children:t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",borderCollapse:"collapse",fontSize:"12px"},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:`2px solid ${n.border}`},children:[t.jsx("th",{style:{padding:"12px",textAlign:"left",fontWeight:"600",color:n.text},children:"Modül / Yetki"}),U.map(e=>t.jsx("th",{style:{padding:"12px",textAlign:"center",fontWeight:"600",color:e.color,minWidth:"100px"},children:e.nameEN},e.id))]})}),t.jsx("tbody",{children:F.map((e,i)=>t.jsxs("tr",{style:{borderBottom:`1px solid ${n.border}`,background:i%2==0?"transparent":`${n.gray[100]}40`},children:[t.jsx("td",{style:{padding:"12px",fontWeight:"600",color:n.text},children:e.module}),U.map(i=>{const l=Object.keys(e.actions).some(e=>i.permissions.includes(e));return t.jsx("td",{style:{padding:"12px",textAlign:"center"},children:l?t.jsx(x,{variant:"success",children:"Evet"}):t.jsx(x,{variant:"secondary",children:"Hayır"})},i.id)})]},e.module))})]})})}),Object.entries(v).map(([e,i])=>{if(0===i.length)return null;const l=U.find(i=>i.id===e);return l?t.jsx(s,{title:`${l.name} (${i.length} kullanıcı)`,style:{marginBottom:"20px"},children:t.jsx("div",{style:{display:"grid",gap:"8px"},children:i.map(e=>t.jsxs("div",{style:{padding:"10px 12px",border:`1px solid ${n.border}`,borderRadius:a.sm,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"600",color:n.text},children:e.username}),t.jsxs("div",{style:{fontSize:"12px",color:n.muted,marginTop:"2px"},children:[e.displayName," ",e.email?`(${e.email})`:""]})]}),t.jsx(x,{variant:e.isActive?"success":"secondary",children:e.isActive?"Aktif":"Pasif"})]},e.id))})},e):null})]})})]})}function I(){const[e,r]=h.useState([]),[a,d]=h.useState(null),[o,c]=h.useState(null),[p,x]=h.useState({entity_type:"",operation:"",user_id:"",entity_id:"",date_from:"",date_to:""}),[u,m]=h.useState(!1),[g,y]=h.useState(null),[f,j]=h.useState({offset:0,limit:50}),v=h.useCallback(async()=>{m(!0),y(null);try{const e=await i.getAuditRecords({entity_type:p.entity_type||void 0,operation:p.operation||void 0,user_id:p.user_id?parseInt(p.user_id,10):void 0,date_from:p.date_from||void 0,date_to:p.date_to||void 0,limit:f.limit,offset:f.offset});r(e)}catch(e){y(e instanceof Error?e.message:"Denetim kayıtları yüklenemedi")}finally{m(!1)}},[p,f]),b=h.useCallback(async()=>{try{const e=await i.getActivityStats({date_from:p.date_from||void 0,date_to:p.date_to||void 0});d(e)}catch(e){}},[p]);h.useEffect(()=>{v(),b()},[v,b]);const S=h.useMemo(()=>p.entity_id?e.filter(e=>e.entityId.includes(p.entity_id)):e,[e,p.entity_id]),T=e=>{switch(e){case"CREATE":return n.success.DEFAULT;case"UPDATE":return n.warning.DEFAULT;case"DELETE":return n.error.DEFAULT;case"LOGIN":case"EXPORT":return"#06b6d4";default:return n.gray[400]}},A=e=>({CREATE:"Oluşturma",UPDATE:"Güncelleme",DELETE:"Silme",LOGIN:"Giriş",EXPORT:"İhracat"}[e]||e);return t.jsxs("div",{children:[t.jsx(l,{title:"Denetim Kayıtları",subtitle:"Sistem değişiklik tarihi ve izleme",breadcrumbs:["Yönetim","Denetim"]}),t.jsxs("div",{style:{padding:24,maxWidth:1400,margin:"0 auto",display:"grid",gap:16},children:[a&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:12},children:[t.jsxs(s,{style:{background:"linear-gradient(135deg, #06b6d422, #06b6d411)",borderLeft:"4px solid #06b6d4"},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Toplam Kayıtlar"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:"#06b6d4"},children:a.total})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.success.DEFAULT}22, ${n.success.DEFAULT}11)`,borderLeft:`4px solid ${n.success.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Oluşturma"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.success.DEFAULT},children:a.byOperation.CREATE||0})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.warning.DEFAULT}22, ${n.warning.DEFAULT}11)`,borderLeft:`4px solid ${n.warning.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Güncelleme"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.warning.DEFAULT},children:a.byOperation.UPDATE||0})]}),t.jsxs(s,{style:{background:`linear-gradient(135deg, ${n.error.DEFAULT}22, ${n.error.DEFAULT}11)`,borderLeft:`4px solid ${n.error.DEFAULT}`},children:[t.jsx("div",{style:{fontSize:12,color:n.muted},children:"Silme"}),t.jsx("div",{style:{fontSize:24,fontWeight:700,color:n.error.DEFAULT},children:a.byOperation.DELETE||0})]})]}),t.jsxs(s,{title:"Filtreler",children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(180px,1fr))",gap:12},children:[t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Varlık Tipi"}),t.jsxs("select",{value:p.entity_type,onChange:e=>x(i=>({...i,entity_type:e.target.value})),children:[t.jsx("option",{value:"",children:"Tümü"}),t.jsx("option",{value:"order",children:"Sipariş"}),t.jsx("option",{value:"user",children:"Kullanıcı"}),t.jsx("option",{value:"station",children:"İstasyon"}),t.jsx("option",{value:"config",children:"Ayarlar"}),t.jsx("option",{value:"invoice",children:"Fatura"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"İşlem"}),t.jsxs("select",{value:p.operation,onChange:e=>x(i=>({...i,operation:e.target.value})),children:[t.jsx("option",{value:"",children:"Tümü"}),t.jsx("option",{value:"CREATE",children:"Oluşturma"}),t.jsx("option",{value:"UPDATE",children:"Güncelleme"}),t.jsx("option",{value:"DELETE",children:"Silme"}),t.jsx("option",{value:"LOGIN",children:"Giriş"}),t.jsx("option",{value:"EXPORT",children:"İhracat"})]})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Varlık ID"}),t.jsx("input",{placeholder:"Ara...",value:p.entity_id,onChange:e=>x(i=>({...i,entity_id:e.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Kullanıcı ID"}),t.jsx("input",{type:"number",placeholder:"Kullanıcı ID",value:p.user_id,onChange:e=>x(i=>({...i,user_id:e.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Başlangıç Tarihi"}),t.jsx("input",{type:"date",value:p.date_from,onChange:e=>x(i=>({...i,date_from:e.target.value}))})]}),t.jsxs("div",{children:[t.jsx("label",{style:{fontSize:12,color:n.muted},children:"Bitiş Tarihi"}),t.jsx("input",{type:"date",value:p.date_to,onChange:e=>x(i=>({...i,date_to:e.target.value}))})]})]}),t.jsxs("div",{style:{marginTop:12,display:"flex",gap:8},children:[t.jsx("button",{onClick:()=>{j({offset:0,limit:50}),v()},style:{background:"#06b6d4",color:"#fff",border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer",fontSize:12,fontWeight:600},children:"Filtrele"}),t.jsx("button",{onClick:()=>{x({entity_type:"",operation:"",user_id:"",entity_id:"",date_from:"",date_to:""})},style:{background:n.gray[200],color:n.gray[600],border:"none",padding:"8px 16px",borderRadius:4,cursor:"pointer",fontSize:12},children:"Sıfırla"})]})]}),g&&t.jsx(s,{style:{background:`${n.error.DEFAULT}15`,borderLeft:`4px solid ${n.error.DEFAULT}`},children:t.jsxs("div",{style:{color:n.error.DEFAULT,fontSize:13},children:[t.jsx("strong",{children:"Hata:"})," ",g]})}),t.jsxs(s,{title:`Kayıtlar (${S.length}${f.offset>0?` / +${f.offset}`:""})`,children:[u?t.jsx("div",{style:{textAlign:"center",padding:20,color:n.muted},children:"Yükleniyor..."}):0===S.length?t.jsx("div",{style:{textAlign:"center",padding:20,color:n.muted},children:"Kayıt bulunamadı"}):t.jsx("div",{style:{overflowX:"auto"},children:t.jsxs("table",{style:{width:"100%",fontSize:12},children:[t.jsx("thead",{children:t.jsxs("tr",{style:{borderBottom:`2px solid ${n.border}`},children:[t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Kullanıcı"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"İşlem"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Varlık"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Alan"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Eski Değer"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Yeni Değer"}),t.jsx("th",{style:{padding:10,textAlign:"left",fontWeight:600},children:"Tarih"}),t.jsx("th",{style:{padding:10,textAlign:"center",fontWeight:600},children:"Durum"})]})}),t.jsx("tbody",{children:S.map(e=>t.jsxs("tr",{onClick:()=>c(e),style:{borderBottom:`1px solid ${n.border}`,cursor:"pointer",background:(null==o?void 0:o.id)===e.id?"#06b6d411":"transparent"},children:[t.jsxs("td",{style:{padding:10},children:[t.jsx("div",{style:{fontSize:11,fontWeight:600},children:e.userName||"Sistem"}),t.jsx("div",{style:{fontSize:10,color:n.muted},children:e.ipAddress||"—"})]}),t.jsx("td",{style:{padding:10},children:t.jsx("span",{style:{background:`${T(e.operation)}22`,color:T(e.operation),padding:"4px 8px",borderRadius:3,fontSize:11,fontWeight:600},children:A(e.operation)})}),t.jsxs("td",{style:{padding:10},children:[t.jsx("div",{style:{fontSize:11},children:e.entityType}),t.jsx("div",{style:{fontSize:10,color:n.muted},children:e.entityId})]}),t.jsx("td",{style:{padding:10,fontSize:11,color:n.muted},children:e.fieldName||"—"}),t.jsx("td",{style:{padding:10,fontSize:11,color:n.gray[400],maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.oldValue||"—"}),t.jsx("td",{style:{padding:10,fontSize:11,color:n.gray[400],maxWidth:120,overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:e.newValue||"—"}),t.jsxs("td",{style:{padding:10,fontSize:10,color:n.muted},children:[new Date(e.timestamp).toLocaleDateString("tr-TR")," ",new Date(e.timestamp).toLocaleTimeString("tr-TR",{hour:"2-digit",minute:"2-digit"})]}),t.jsx("td",{style:{padding:10,textAlign:"center"},children:t.jsx("span",{style:{display:"inline-block",width:8,height:8,borderRadius:"50%",background:e.success?n.success.DEFAULT:n.error.DEFAULT},title:e.success?"Başarılı":e.errorMessage||"Başarısız"})})]},e.id))})]})}),t.jsxs("div",{style:{marginTop:16,display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsxs("div",{style:{fontSize:12,color:n.muted},children:["Sayfa: ",Math.floor(f.offset/f.limit)+1]}),t.jsxs("div",{style:{display:"flex",gap:8},children:[t.jsx("button",{onClick:()=>j(e=>({...e,offset:Math.max(0,e.offset-e.limit)})),disabled:0===f.offset,style:{background:0===f.offset?n.gray[300]:n.gray[200],color:0===f.offset?n.gray[400]:n.gray[700],border:"none",padding:"6px 12px",borderRadius:4,cursor:0===f.offset?"default":"pointer",fontSize:11},children:"Önceki"}),t.jsx("button",{onClick:()=>j(e=>({...e,offset:e.offset+e.limit})),disabled:S.length<f.limit,style:{background:S.length<f.limit?n.gray[300]:n.gray[200],color:S.length<f.limit?n.gray[400]:n.gray[700],border:"none",padding:"6px 12px",borderRadius:4,cursor:S.length<f.limit?"default":"pointer",fontSize:11},children:"Sonraki"})]})]})]}),o&&t.jsx(s,{title:"Detay",style:{borderLeft:`4px solid ${T(o.operation)}`},children:t.jsxs("div",{style:{display:"grid",gap:12},children:[t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(auto-fit,minmax(200px,1fr))",gap:12},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"Kullanıcı"}),t.jsx("div",{style:{fontSize:13,fontWeight:600},children:o.userName})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"İşlem"}),t.jsx("div",{style:{fontSize:13,fontWeight:600,color:T(o.operation)},children:A(o.operation)})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"Varlık"}),t.jsxs("div",{style:{fontSize:13,fontWeight:600},children:[o.entityType," #",o.entityId]})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"Tarih"}),t.jsx("div",{style:{fontSize:13},children:new Date(o.timestamp).toLocaleString("tr-TR")})]})]}),o.fieldName&&t.jsxs("div",{style:{background:"#f3f4f6",padding:12,borderRadius:4,display:"grid",gap:8},children:[t.jsx("div",{style:{fontSize:11,color:n.muted,fontWeight:600},children:"Alan Değişikliği"}),t.jsxs("div",{children:[t.jsxs("div",{style:{fontSize:10,color:n.muted},children:["Alan: ",o.fieldName]}),t.jsxs("div",{style:{fontSize:12,marginTop:4},children:[t.jsx("strong",{style:{color:n.error.DEFAULT},children:"Eski:"})," ",o.oldValue||"—"]}),t.jsxs("div",{style:{fontSize:12,marginTop:2},children:[t.jsx("strong",{style:{color:n.success.DEFAULT},children:"Yeni:"})," ",o.newValue||"—"]})]})]}),o.reason&&t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"Neden"}),t.jsx("div",{style:{fontSize:12},children:o.reason})]}),o.ipAddress&&t.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:12},children:[t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"IP Adresi"}),t.jsx("div",{style:{fontSize:12,fontFamily:"monospace"},children:o.ipAddress})]}),t.jsxs("div",{children:[t.jsx("div",{style:{fontSize:11,color:n.muted},children:"Durum"}),t.jsx("div",{style:{fontSize:12,color:o.success?n.success.DEFAULT:n.error.DEFAULT,fontWeight:600},children:o.success?"[OK] Başarılı":`[HATA] ${o.errorMessage||"Başarısız"}`})]})]})]})})]})]})}export{O as AnalyticsPage,I as AuditRecordsPage,w as ConfigPage,L as LogsPage,D as OrganizationPage,C as ReportsPage,W as RolesPermissionsPage,e as StationsPage,R as UserActivityPage,$ as UsersPage};
